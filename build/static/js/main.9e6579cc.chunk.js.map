{"version":3,"sources":["components/RouteComponents/PublicRoute.jsx","hooks/useUserData/useUserData.jsx","lib/cookie.js","config/settings.jsx","lib/api.js","redux/room/actions.js","hooks/usePublications/index.jsx","hooks/useTrack/index.jsx","components/Party/tracks/VideoTrack.jsx","components/Party/tracks/AudioTrack.jsx","components/Party/Participant/Publication.jsx","components/Party/Participant/ParticipantTracks.jsx","hooks/useIsTrackEnabled/index.jsx","components/Party/Participant/AudioLevelIndicator.jsx","components/Party/Participant/BandwidthWarning.jsx","components/Party/Participant/NetworkQualityLevel.jsx","components/Party/Participant/ParticipantConnectionIndicator.jsx","hooks/useParticipantIsReconnecting/index.jsx","components/Party/Participant/PinIcon.jsx","hooks/useIsTrackSwitchedOff/index.jsx","components/Party/Participant/ParticipantInfo.jsx","hooks/useParticipantNetworkQualityLevel/index.jsx","components/Party/Participant/Participant.jsx","components/Icons/Icons.jsx","components/Party/Participant/PinParticipant.jsx","components/Dialogs/ConfigureDialog/index.jsx","redux/user/actions.js","components/Party/Participant/LocalParticipant.jsx","components/Party/Participant/MainParticipantInfo.jsx","components/Party/Participant/MainParticipant.jsx","components/Party/LiveStream/index.jsx","components/Party/PartyTabControl/index.jsx","components/Party/DeviceControl/VolumeControl.jsx","hooks/useLocalTracks/useLocalTracks.jsx","hooks/useRoom/useRoom.jsx","hooks/useSelectedParticipant/index.jsx","components/Party/VideoPartyProvider/index.jsx","components/Party/DeviceControl/DeviceSwitchControl.jsx","hooks/useLocalAudioToggle/index.jsx","hooks/useLocalVideoToggle/index.jsx","components/Party/DeviceControl/index.jsx","components/Party/ButtonControl/index.jsx","components/PusherProvider/MicPusher.jsx","components/PusherProvider/MessagePusher.jsx","components/Dialogs/AlertDialog/UnlockRequestDialog.jsx","components/PusherProvider/UnLockRequestPusher.jsx","components/PusherProvider/UnLockAcceptPusher.jsx","components/PusherProvider/LockRequestPusher.jsx","components/PusherProvider/PusherProvider.jsx","components/Chat/InfoBar/InfoBar.jsx","components/Chat/Input/Input.jsx","components/Chat/Messages/Message/Message.jsx","components/Chat/Messages/Messages.jsx","components/Chat/Chat.jsx","containers/ChatContainer/ChatContainer.jsx","components/Party/ParticipantsListView/ParticipantsListView.jsx","pages/VideoParty/VideoParty.jsx","hooks/useRoomState/index.jsx","containers/RoomContainer/RoomContainer.jsx","pages/HomePage/HomePage.jsx","pages/ConnectStreamPage/ConnectStreamPage.jsx","components/RouteComponents/PrivateRoute.jsx","App.js","serviceWorker.js","redux/user/reducer.js","redux/room/reducer.js","redux/index.js","config/theme.jsx","index.js"],"names":["LoginRoute","children","rest","userData","useSelector","state","user","render","location","token","to","pathname","from","useUserData","getAccessToken","cookieName","name","allCookieArray","document","cookie","split","i","length","temp","trim","indexOf","substring","getCookie","API_ENDPOINT","console","log","process","setStreamUrl","url","axios","post","headers","Authorization","sendUnLockRequest","sendLockRequest","unLockAccept","unLockDecline","switchMic","micOn","get","params","mic_on","sendMessage","message","djConnect","username","link","initRoom","createAction","setStreamUrlSuccess","setStreamUrlFailed","participantJoined","participantExit","setPinSent","setPinUnLock","setPinLock","setPinMic","setTwilioRoom","openChat","closeChat","addMessage","selectMain","randomizePins","identity","isOn","dispatch","getState","a","api","usePublications","participant","useState","publications","setPublications","useEffect","Array","tracks","values","publicationAdded","publication","prevPublications","publicationRemoved","filter","p","on","off","useTrack","track","setTrack","removeTrack","Video","styled","width","maxHeight","objectFit","VideoTrack","isLocal","ref","useRef","el","current","attach","detach","style","transform","Fragment","AudioTrack","body","appendChild","forEach","remove","Publication","disableAudio","videoPriority","kind","priority","ParticipantTracks","filteredPublications","room","localParticipant","trackName","map","key","useIsTrackEnabled","isEnabled","setIsEnabled","setEnabled","setDisabled","audioContext","clipId","AudioContext","window","webkitAudioContext","initializeAnalyser","audioTrack","stream","MediaStream","mediaStreamTrack","clone","audioSource","createMediaStreamSource","analyser","createAnalyser","smoothingTimeConstant","fftSize","connect","React","memo","size","background","SIZE","isTrackEnabled","SVGClipElement","reinitializeAnalyser","addEventListener","sampleArray","Uint8Array","frequencyBinCount","timer","interval","getByteFrequencyData","volume","Math","min","max","log10","setAttribute","String","stop","removeEventListener","clipPathId","focusable","viewBox","aria-hidden","height","id","x","y","fill","d","clipPath","data-cy-audio-mute-icon","BandwidthWarningContainer","position","zIndex","display","flexDirection","justifyContent","alignItems","Warning","textAlign","margin","BandwidthWarning","fontSize","Container","border","boxSizing","borderRight","NetworkQualityLevel","qualityLevel","level","useStyles","makeStyles","indicator","borderRadius","marginRight","isReconnecting","ParticipantConnectionIndicator","setIsReconnecting","handleReconnecting","handleReconnected","useParticipantIsReconnecting","classes","Tooltip","title","className","clsx","PinIcon","placement","SvgIcon","float","useIsTrackSwitchedOff","isSwitchedOff","setIsSwitchedOff","handleSwitchedOff","handleSwitchedOn","theme","createStyles","container","overflow","cursor","stroke","strokeWidth","breakpoints","down","sidebarMobileHeight","isVideoSwitchedOff","infoContainer","padding","hideVideo","infoRow","ParticipantInfo","onClick","isSelected","audioPublication","find","videoPublication","networkQualityLevel","setNetworkQualityLevel","handleNewtorkQualityLevelChange","newNetworkQualityLevel","useParticipantNetworkQualityLevel","isVideoEnabled","Boolean","isScreenShareEnabled","data-cy-participant","Participant","LockIcon","icon","faLock","UnlockIcon","faLockOpen","ChatIcon","faCommentDots","MicOnIcon","faMicrophoneAlt","MicOffIcon","faMicrophoneAltSlash","CheckIcon","faCheck","PaperPlanIcon","faPaperPlane","CloseIcon","faTimes","YoutubeIcon","faYoutube","FacebookIcon","faFacebook","pinMainWrapper","videoWrapper","buttonGroup","marginBottom","emptyScene","backgroundColor","button","color","activeButton","deactiveButton","LockButton","withStyles","root","flex","Button","UnlockButton","MicButton","UnMicButton","ChatButton","PinParticipant","pinId","useDispatch","roomData","participants","pin","pins","pinParticipant","unreadChats","chats","chat","read","onUnLockRequest","onLockRequest","onChat","mic","locked","variant","then","catch","err","chatMember","Badge","badgeContent","sent","ConfigureDialog","showDialog","closeDialog","setUrl","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","label","type","onChange","e","target","value","fullWidth","DialogActions","loginFailed","djConnectSuccess","mainWrapper","participantWrapper","buttonsWrapper","ExitButton","fontStyle","LocalParticipant","history","useHistory","disconnect","push","borderStyle","marginLeft","MainParticipantInfo","data-cy-main-participant","MainParticipant","floor","random","mainParticipant","setMainParticipant","setInterval","clearInterval","streamWrapper","props","tabStatus","LiveStream","controls","config","youtube","playerVars","showinfo","modestbranding","onError","playing","tabControlWrapper","tabControlItem","spacing","opacity","tabControlItemActive","PartyTabControl","status","setTabStatus","src","alt","volumeControlWrapper","VolumeSlider","thumb","Slider","VolumeControl","setVolume","Grid","item","xs","event","newValue","useLocalTracks","createLocalAudioTrack","newTrack","handleStopped","undefined","useLocalAudioTrack","getLocalVideoTrack","useCallback","createLocalVideoTrack","frameRate","useLocalVideoTrack","videoTrack","localTracks","TwilioVideo","createContext","IOSSwitch","switchBase","palette","common","white","grey","transition","transitions","create","checked","focusVisible","Switch","focusVisibleClassName","disableRipple","ToggleMicButton","disable","enable","useLocalAudioToggle","isAudioEnabled","toggleAudioEnabled","ToggleCameraButton","toggleVideoEnabled","localTrackPublication","unpublishTrack","emit","publishTrack","useLocalVideoToggle","DeviceSwitchControl","camera","participantInfo","DeviceControl","pLen","Typography","randomButton","marginTop","configureButton","ButtonControl","role","onConfigureLiveStream","onRandomButton","MicPusher","channel","enqueueSnackbar","useSnackbar","onUpdate","data","anchorOrigin","vertical","horizontal","MessagePusher","opp","msg","UnlockRequestDialog","isOpen","senderName","handleAgree","handleDecline","senderP","aria-describedby","UnLockRequestPusher","unlock","setUnlock","setSenderName","myIdentity","handleAgreeUnlockRequest","UnLockAcceptPusher","sender","LockRequestPusher","PusherProvider","infoBar","alignSelf","boxShadow","leftInnerContainer","fontWeight","rightInnerContainer","CloseButton","minWidth","InfoBar","handleClose","form","sendButton","textDecoration","outline","Input","setMessage","placeholder","onKeyPress","Message","text","messages","overflowY","Messages","messagesEndRef","scrollToBottom","scrollIntoView","behavior","chatContainer","Chat","me","opponent","handleSendMessage","preventDefault","ChatContainer","chatOpponent","chatOpen","listItem","ScrollContainer","flexWrap","ParticipantListView","sid","gridTemplateColumns","gridTemplateRows","gap","gridTemplateAreas","primary","contrastText","mainViewer","gridArea","logo","paddingTop","paddingLeft","tabControl","deviceContro","t1","t2","t3","t4","t5","t6","t7","t8","showVideo","VideoParty","roomState","setState","setRoomState","useRoomState","showConfigDialog","setShowConfigDialog","roomActions","ParticipantsListView","deviceControl","connectionOptions","bandwidthProfile","video","mode","dominantSpeakerPriority","renderDimensions","high","standard","low","dominantSpeaker","maxAudioBitrate","networkQuality","local","remote","preferredVideoCodecs","codec","simulcast","RoomContainer","disconnectHandlerRef","localTracksRef","participantConnected","participantDisconnected","once","setTimeout","twilioRoom","header","flexGrow","connectButton","heroSection","heroTitle","heroTitleBlack","fontFamily","heroTitleBlue","heroImage","featureSection","borderTop","borderBottom","feature","minHeight","main","buttonSection","HomePage","onConnectLiveStream","AppBar","Toolbar","IconButton","edge","aria-label","class","disableElevation","mainContainer","formContainer","submit","ConnectStreamPage","dj","setForm","handleChange","description","href","rel","onSubmit","res","replaceState","encodeURI","search","disableUnderline","required","disabled","PrivateRoute","App","maxSnack","path","PublicRoute","hostname","match","initState","userReducer","handleActions","action","payload","mainSelection","roomReducer","newP","ext","filteredParticipants","filteredPins","pId","foundIndex","findIndex","originPin","pinIndex","updatedChats","candidates","randomPin","combineReducers","createMuiTheme","shadows","sidebarWidth","AirlockTheme","ThemeProvider","store","createStore","Reducer","composeWithDevTools","applyMiddleware","thunk","pusherClient","Pusher","cluster","setPusherClient","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.9e6579cc.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst LoginRoute = ({ children, ...rest }) => {\r\n  const userData = useSelector((state) => state.user)\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        userData.token ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default LoginRoute\r\n","import { useSelector } from 'react-redux'\r\nconst useUserData = () => {\r\n  const userData = useSelector((state) => state.user)\r\n  return userData\r\n}\r\n\r\nexport default useUserData\r\n","export function setCookie(name, value) {\r\n  document.cookie = name + '=' + value + '; Path=/;'\r\n}\r\n\r\nexport function getCookie(cookieName) {\r\n  var name = cookieName + '='\r\n  var allCookieArray = document.cookie.split(';')\r\n  for (var i = 0; i < allCookieArray.length; i++) {\r\n    var temp = allCookieArray[i].trim()\r\n    if (temp.indexOf(name) === 0)\r\n      return temp.substring(name.length, temp.length)\r\n  }\r\n  return ''\r\n}\r\n\r\nexport function getAccessToken() {\r\n  const token = getCookie('airlock_token')\r\n  return token\r\n}\r\n\r\nexport function setAccessToken(token) {\r\n  setCookie('airlock_token', token)\r\n}\r\n\r\nexport function removeAccessToken() {\r\n  setCookie('airlock_token', '')\r\n}\r\n","export const API_ENDPOINT = 'http://localhost:5000/api'\r\n","import axios from 'axios'\r\nimport { getAccessToken } from './cookie'\r\nimport { API_ENDPOINT } from '../config/settings'\r\nconsole.log(process.env)\r\n/**\r\n *\r\n * Return identity and twilio_token for user corresponding to passcode\r\n *\r\n * @param passcode string\r\n * @return {* access_code: string, identity: string, token: string }\r\n */\r\nexport const userLogin = async (passcode) =>\r\n  axios.post(`${API_ENDPOINT}/login`, { passcode })\r\n\r\n/**\r\n *\r\n * Check auth with cookie\r\n * if authorized, return user data, if not return null\r\n *\r\n */\r\nexport const checkAuth = async () => {\r\n  const token = getAccessToken()\r\n  return axios.get(`${API_ENDPOINT}/user/check_auth`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  })\r\n}\r\n\r\n/**\r\n *\r\n * Return twilio token for user\r\n *\r\n * @param\r\n * @return {* token:string }\r\n */\r\nexport const getTwilioToken = () => {\r\n  const token = getAccessToken()\r\n  return axios.get(`${API_ENDPOINT}/twilio/token`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  })\r\n}\r\n\r\n/**\r\n *\r\n * Set Stream URL\r\n *\r\n */\r\nexport const setStreamUrl = (url) => {\r\n  const token = getAccessToken()\r\n  return axios.post(\r\n    `${API_ENDPOINT}/room/set_stream_url`,\r\n    {\r\n      url: url,\r\n    },\r\n    { headers: { Authorization: `Bearer ${token}` } },\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * UnLock Request\r\n *\r\n * @param string to\r\n */\r\nexport const sendUnLockRequest = (to) => {\r\n  const token = getAccessToken()\r\n  console.log('Token => ', token)\r\n  return axios.post(\r\n    `${API_ENDPOINT}/room/unlock_request`,\r\n    {\r\n      to,\r\n    },\r\n    { headers: { Authorization: `Bearer ${token}` } },\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * Lock Request\r\n *\r\n * @param string to\r\n */\r\nexport const sendLockRequest = (to) => {\r\n  const token = getAccessToken()\r\n  return axios.post(\r\n    `${API_ENDPOINT}/room/lock_request`,\r\n    {\r\n      to,\r\n    },\r\n    { headers: { Authorization: `Bearer ${token}` } },\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * Lock Accept\r\n *\r\n * @param string to\r\n */\r\nexport const unLockAccept = (to) => {\r\n  const token = getAccessToken()\r\n  return axios.post(\r\n    `${API_ENDPOINT}/room/unlock_accept`,\r\n    {\r\n      to,\r\n    },\r\n    { headers: { Authorization: `Bearer ${token}` } },\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * Lock Accept\r\n *\r\n * @param string to\r\n */\r\nexport const unLockDecline = (to) => {\r\n  const token = getAccessToken()\r\n  return axios.post(\r\n    `${API_ENDPOINT}/room/unlock_decline`,\r\n    {\r\n      to,\r\n    },\r\n    { headers: { Authorization: `Bearer ${token}` } },\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * Set Mic On\r\n *\r\n * @param string to\r\n * @param boolean micOn\r\n */\r\nexport const switchMic = (to, micOn) => {\r\n  const token = getAccessToken()\r\n  return axios.get(`${API_ENDPOINT}/room/mic`, {\r\n    params: {\r\n      to,\r\n      mic_on: micOn,\r\n    },\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  })\r\n}\r\n\r\nexport const sendMessage = (to, message) => {\r\n  const token = getAccessToken()\r\n  return axios.post(\r\n    `${API_ENDPOINT}/room/message`,\r\n    {\r\n      to,\r\n      message,\r\n    },\r\n    { headers: { Authorization: `Bearer ${token}` } },\r\n  )\r\n}\r\n\r\nexport const djConnect = (username, link) => {\r\n  return axios.post(`${API_ENDPOINT}/user/dj_connect`, {\r\n    username,\r\n    link,\r\n  })\r\n}\r\n","import { createAction } from 'redux-actions'\r\nimport * as api from '../../lib/api'\r\nexport const INIT_ROOM = 'INIT_ROOM'\r\nexport const SET_STREAM_URL_SUCCESS = 'SET_STREAM_URL_SUCCESS'\r\nexport const SET_STREAM_URL_FAILED = 'SET_STREAM_URL_FAILED'\r\nexport const PARTICIPANT_JOINED = 'PARTICIPANT_JOINED'\r\nexport const PARTICIPANT_EXIT = 'PARTICIPANT_EXIT'\r\nexport const INIT_PARTICIPANTS = 'INIT_PARTICIPANTS'\r\nexport const SET_TWILIO_ROOM = 'SET_TWILIO_ROOM'\r\nexport const SET_PIN_SENT = 'SET_PIN_SENT'\r\nexport const SET_PIN_UNLOCK = 'SET_PIN_UNLOCK'\r\nexport const SET_PIN_LOCK = 'SET_PIN_LOCK'\r\nexport const SET_PIN_MIC = 'SET_PIN_MIC'\r\nexport const OPEN_CHAT = 'OPEN_CHAT'\r\nexport const CLOSE_CHAT = 'CLOSE_CHAT'\r\nexport const ADD_MESSAGE = 'ADD_MESSAGE'\r\nexport const INIT_CHAT_ROOM = 'INIT_CHAT_ROOM'\r\nexport const SELECT_MAIN = 'SELECT_MAIN'\r\nexport const RANDOMIZE_PINS = 'RANDOMIZE_PINS'\r\nexport const initRoom = createAction(INIT_ROOM)\r\nexport const setStreamUrlSuccess = createAction(SET_STREAM_URL_SUCCESS)\r\nexport const setStreamUrlFailed = createAction(SET_STREAM_URL_FAILED)\r\nexport const participantJoined = createAction(PARTICIPANT_JOINED)\r\nexport const participantExit = createAction(PARTICIPANT_EXIT)\r\nexport const initParticipants = createAction(INIT_PARTICIPANTS)\r\nexport const setPinSent = createAction(SET_PIN_SENT)\r\nexport const setPinUnLock = createAction(SET_PIN_UNLOCK)\r\nexport const setPinLock = createAction(SET_PIN_LOCK)\r\nexport const setPinMic = createAction(SET_PIN_MIC)\r\nexport const setTwilioRoom = createAction(SET_TWILIO_ROOM)\r\nexport const openChat = createAction(OPEN_CHAT)\r\nexport const closeChat = createAction(CLOSE_CHAT)\r\nexport const addMessage = createAction(ADD_MESSAGE)\r\nexport const initChatRoom = createAction(INIT_CHAT_ROOM)\r\nexport const selectMain = createAction(SELECT_MAIN)\r\nexport const randomizePins = createAction(RANDOMIZE_PINS)\r\nexport const setStreamUrl = (url) => async (dispatch, getState) => {\r\n  try {\r\n    await api.setStreamUrl(url)\r\n    dispatch(setStreamUrlSuccess(url))\r\n  } catch (e) {\r\n    dispatch(setStreamUrlFailed(url))\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const switchMic = ({ identity, isOn }) => async (dispatch, getState) => {\r\n  try {\r\n    await api.switchMic(identity, isOn)\r\n    dispatch(setPinMic({ identity, isOn }))\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const sendMessage = ({ identity, message }) => async (\r\n  dispatch,\r\n  getState,\r\n) => {\r\n  try {\r\n    await api.sendMessage(identity, message)\r\n    dispatch(addMessage({ identity, message, sent: true }))\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const sendUnLockRequest = ({ identity }) => async (\r\n  dispatch,\r\n  getState,\r\n) => {\r\n  try {\r\n    await api.sendUnLockRequest(identity)\r\n    dispatch(setPinSent({ identity }))\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const sendLockRequest = ({ identity }) => async (dispatch, getState) => {\r\n  try {\r\n    await api.sendLockRequest(identity)\r\n    dispatch(setPinLock({ identity }))\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const unLockAccept = ({ identity }) => async (dispatch, getState) => {\r\n  try {\r\n    await api.unLockAccept(identity)\r\n    dispatch(setPinUnLock({ identity }))\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const unLockDecline = ({ identity }) => async (dispatch, getState) => {\r\n  try {\r\n    await api.unLockDecline(identity)\r\n    dispatch(setPinLock({ identity }))\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n\r\n// export const randomizePins = () => async (dispatch, getState) => {}\r\n// export const openChatBox = ({identity}) = as\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport default function usePublications(participant) {\r\n  const [publications, setPublications] = useState([])\r\n\r\n  useEffect(() => {\r\n    // Reset the publications when the 'participant' variable changes.\r\n    setPublications(Array.from(participant.tracks.values()))\r\n\r\n    const publicationAdded = (publication) =>\r\n      setPublications((prevPublications) => [...prevPublications, publication])\r\n    const publicationRemoved = (publication) =>\r\n      setPublications((prevPublications) =>\r\n        prevPublications.filter((p) => p !== publication),\r\n      )\r\n\r\n    participant.on('trackPublished', publicationAdded)\r\n    participant.on('trackUnpublished', publicationRemoved)\r\n    return () => {\r\n      participant.off('trackPublished', publicationAdded)\r\n      participant.off('trackUnpublished', publicationRemoved)\r\n    }\r\n  }, [participant])\r\n\r\n  return publications\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport default function useTrack(publication) {\r\n  const [track, setTrack] = useState(publication && publication.track)\r\n\r\n  useEffect(() => {\r\n    // Reset the track when the 'publication' variable changes.\r\n    setTrack(publication && publication.track)\r\n\r\n    if (publication) {\r\n      const removeTrack = () => setTrack(null)\r\n\r\n      publication.on('subscribed', setTrack)\r\n      publication.on('unsubscribed', removeTrack)\r\n      return () => {\r\n        publication.off('subscribed', setTrack)\r\n        publication.off('unsubscribed', removeTrack)\r\n      }\r\n    }\r\n  }, [publication])\r\n\r\n  return track\r\n}\r\n","import React, { useRef, useEffect } from 'react'\r\nimport { styled } from '@material-ui/core/styles'\r\n\r\nconst Video = styled('video')({\r\n  width: '100%',\r\n  maxHeight: '100%',\r\n  objectFit: 'contain',\r\n})\r\n\r\nexport default function VideoTrack({ track, isLocal }) {\r\n  const ref = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (!track) return\r\n    const el = ref.current\r\n    // el.muted = true\r\n    // if (track.setPriority && priority) {\r\n    //   track.setPriority(priority)\r\n    // }\r\n    track.attach(el)\r\n    return () => {\r\n      track.detach(el)\r\n      //   if (track.setPriority && priority) {\r\n      //     // Passing `null` to setPriority will set the track's priority to that which it was published with.\r\n      //     track.setPriority(null)\r\n      //   }\r\n    }\r\n  }, [track])\r\n\r\n  // The local video track is mirrored.\r\n  const style = isLocal ? { transform: 'rotateY(180deg)' } : {}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {track && <Video ref={ref} style={style} />}\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\n// import { AudioTrack as IAudioTrack } from 'twilio-video'\r\n\r\nexport default function AudioTrack({ track }) {\r\n  useEffect(() => {\r\n    document.body.appendChild(track.attach())\r\n    return () => track.detach().forEach((el) => el.remove())\r\n  }, [track])\r\n  return null\r\n}\r\n","import React from 'react'\r\nimport useTrack from '../../../hooks/useTrack'\r\nimport VideoTrack from '../tracks/VideoTrack'\r\nimport AudioTrack from '../tracks/AudioTrack'\r\n\r\nexport default function Publication({\r\n  publication,\r\n  isLocal,\r\n  disableAudio,\r\n  videoPriority,\r\n}) {\r\n  const track = useTrack(publication)\r\n\r\n  if (!track) return null\r\n\r\n  switch (track.kind) {\r\n    case 'video':\r\n      return (\r\n        <VideoTrack\r\n          track={track}\r\n          priority={videoPriority}\r\n          isLocal={track.name === 'camera' && isLocal}\r\n        />\r\n      )\r\n    case 'audio':\r\n      return disableAudio ? null : <AudioTrack track={track} />\r\n    default:\r\n      return null\r\n  }\r\n}\r\n","import React from 'react'\r\nimport usePublications from '../../../hooks/usePublications'\r\nimport Publication from './Publication'\r\nimport { useSelector } from 'react-redux'\r\n/*\r\n *  The object model for the Room object (found here: https://www.twilio.com/docs/video/migrating-1x-2x#object-model) shows\r\n *  that Participant objects have TrackPublications, and TrackPublication objects have Tracks.\r\n *\r\n *  The React components in this application follow the same pattern. This ParticipantTracks component renders Publications,\r\n *  and the Publication component renders Tracks.\r\n */\r\n\r\nexport default function ParticipantTracks({ participant, disableAudio }) {\r\n  const room = useSelector((state) => state.room.room)\r\n  const publications = usePublications(participant)\r\n  const isLocal = participant === room.localParticipant\r\n  let filteredPublications\r\n  filteredPublications = publications.filter((p) => p.trackName !== 'screen')\r\n  return (\r\n    <>\r\n      {filteredPublications.map((publication) => (\r\n        <Publication\r\n          key={publication.kind}\r\n          publication={publication}\r\n          participant={participant}\r\n          isLocal={isLocal}\r\n          disableAudio={disableAudio}\r\n        />\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport default function useIsTrackEnabled(track) {\r\n  const [isEnabled, setIsEnabled] = useState(track ? track.isEnabled : true)\r\n\r\n  useEffect(() => {\r\n    setIsEnabled(track ? track.isEnabled : true)\r\n\r\n    if (track) {\r\n      const setEnabled = () => setIsEnabled(true)\r\n      const setDisabled = () => setIsEnabled(false)\r\n      track.on('enabled', setEnabled)\r\n      track.on('disabled', setDisabled)\r\n      return () => {\r\n        track.off('enabled', setEnabled)\r\n        track.off('disabled', setDisabled)\r\n      }\r\n    }\r\n  }, [track])\r\n\r\n  return isEnabled\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { interval } from 'd3-timer'\r\nimport MicOff from '@material-ui/icons/MicOff'\r\nimport useIsTrackEnabled from '../../../hooks/useIsTrackEnabled'\r\n\r\nlet clipId = 0\r\nconst getUniqueClipId = () => clipId++\r\n\r\n// @ts-ignore\r\nconst AudioContext = window.AudioContext || window.webkitAudioContext\r\nlet audioContext\r\n\r\nexport function initializeAnalyser(audioTrack) {\r\n  audioContext = audioContext || new AudioContext()\r\n  const stream = new MediaStream([audioTrack.mediaStreamTrack.clone()])\r\n  const audioSource = audioContext.createMediaStreamSource(stream)\r\n\r\n  const analyser = audioContext.createAnalyser()\r\n  analyser.smoothingTimeConstant = 0.4\r\n  analyser.fftSize = 512\r\n\r\n  audioSource.connect(analyser)\r\n  return analyser\r\n}\r\n\r\nfunction AudioLevelIndicator({ size, audioTrack, background }) {\r\n  const SIZE = size || 24\r\n  const ref = useRef(null)\r\n  const isTrackEnabled = useIsTrackEnabled(audioTrack)\r\n\r\n  useEffect(() => {\r\n    const SVGClipElement = ref.current\r\n\r\n    if (audioTrack && isTrackEnabled && SVGClipElement) {\r\n      let analyser = initializeAnalyser(audioTrack)\r\n\r\n      const reinitializeAnalyser = () => {\r\n        analyser = initializeAnalyser(audioTrack)\r\n      }\r\n\r\n      // Here we reinitialize the AnalyserNode on focus to avoid an issue in Safari\r\n      // where the analysers stop functioning when the user switches to a new tab\r\n      // and switches back to the app.\r\n      window.addEventListener('focus', reinitializeAnalyser)\r\n\r\n      const sampleArray = new Uint8Array(analyser.frequencyBinCount)\r\n\r\n      const timer = interval(() => {\r\n        analyser.getByteFrequencyData(sampleArray)\r\n        let values = 0\r\n\r\n        const length = sampleArray.length\r\n        for (let i = 0; i < length; i++) {\r\n          values += sampleArray[i]\r\n        }\r\n\r\n        const volume = Math.min(\r\n          21,\r\n          Math.max(0, Math.log10(values / length / 3) * 14),\r\n        )\r\n\r\n        SVGClipElement.setAttribute('y', String(21 - volume))\r\n      }, 50)\r\n\r\n      return () => {\r\n        SVGClipElement.setAttribute('y', '21')\r\n        timer.stop()\r\n        window.removeEventListener('focus', reinitializeAnalyser)\r\n      }\r\n    }\r\n  }, [audioTrack, isTrackEnabled])\r\n\r\n  // Each instance of this component will need a unique HTML ID\r\n  const clipPathId = `audio-level-clip-${getUniqueClipId()}`\r\n\r\n  return isTrackEnabled ? (\r\n    <svg\r\n      focusable=\"false\"\r\n      viewBox=\"0 0 24 24\"\r\n      aria-hidden=\"true\"\r\n      height={`${SIZE}px`}\r\n      width={`${SIZE}px`}\r\n    >\r\n      <defs>\r\n        <clipPath id={clipPathId}>\r\n          <rect ref={ref} x=\"0\" y=\"21\" width=\"24\" height=\"24\" />\r\n        </clipPath>\r\n      </defs>\r\n      <path\r\n        fill={background || 'rgba(255, 255, 255, 0.1)'}\r\n        d=\"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\"\r\n      ></path>\r\n      <path\r\n        fill=\"#0c0\"\r\n        clipPath={`url(#${clipPathId})`}\r\n        d=\"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\"\r\n      ></path>\r\n    </svg>\r\n  ) : (\r\n    <MicOff\r\n      height={`${SIZE}px`}\r\n      width={`${SIZE}px`}\r\n      style={{ width: 'initial', height: 'initial' }}\r\n      data-cy-audio-mute-icon\r\n    />\r\n  )\r\n}\r\n\r\nexport default React.memo(AudioLevelIndicator)\r\n","import React from 'react'\r\nimport { styled } from '@material-ui/core'\r\n\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\r\n\r\nconst BandwidthWarningContainer = styled('div')({\r\n  position: 'absolute',\r\n  zIndex: 1,\r\n  width: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n})\r\n\r\nconst Warning = styled('h3')({\r\n  textAlign: 'center',\r\n  margin: '0.6em 0',\r\n})\r\n\r\nexport default function BandwidthWarning() {\r\n  return (\r\n    <BandwidthWarningContainer>\r\n      <div>\r\n        <ErrorOutlineIcon fontSize=\"large\" />\r\n      </div>\r\n      <Warning>Insufficient Bandwidth</Warning>\r\n    </BandwidthWarningContainer>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { styled } from '@material-ui/core/styles'\r\n\r\nconst Container = styled('div')({\r\n  display: 'flex',\r\n  alignItems: 'flex-end',\r\n  '& div': {\r\n    width: '2px',\r\n    border: '1px solid black',\r\n    boxSizing: 'content-box',\r\n    '&:not(:last-child)': {\r\n      borderRight: 'none',\r\n    },\r\n  },\r\n})\r\n\r\nconst STEP = 3\r\n\r\nexport default function NetworkQualityLevel({ qualityLevel }) {\r\n  if (qualityLevel === null) return null\r\n  return (\r\n    <Container>\r\n      {[0, 1, 2, 3, 4].map((level) => (\r\n        <div\r\n          key={level}\r\n          style={{\r\n            height: `${STEP * (level + 1)}px`,\r\n            background: qualityLevel > level ? '#0c0' : '#040',\r\n          }}\r\n        />\r\n      ))}\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport useParticipantIsReconnecting from '../../../hooks/useParticipantIsReconnecting'\r\nimport { Tooltip } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles({\r\n  indicator: {\r\n    width: '10px',\r\n    height: '10px',\r\n    borderRadius: '100%',\r\n    background: '#0c0',\r\n    display: 'inline-block',\r\n    marginRight: '3px',\r\n  },\r\n  isReconnecting: {\r\n    background: '#ffb100',\r\n  },\r\n})\r\n\r\nexport default function ParticipantConnectionIndicator({ participant }) {\r\n  const isReconnecting = useParticipantIsReconnecting(participant)\r\n  const classes = useStyles()\r\n  return (\r\n    <Tooltip\r\n      title={\r\n        isReconnecting\r\n          ? 'Participant is reconnecting'\r\n          : 'Participant is connected'\r\n      }\r\n    >\r\n      <span\r\n        className={clsx(classes.indicator, {\r\n          [classes.isReconnecting]: isReconnecting,\r\n        })}\r\n      ></span>\r\n    </Tooltip>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport default function useParticipantIsReconnecting(participant) {\r\n  const [isReconnecting, setIsReconnecting] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const handleReconnecting = () => setIsReconnecting(true)\r\n    const handleReconnected = () => setIsReconnecting(false)\r\n\r\n    participant.on('reconnecting', handleReconnecting)\r\n    participant.on('reconnected', handleReconnected)\r\n    return () => {\r\n      participant.off('reconnecting', handleReconnecting)\r\n      participant.off('reconnected', handleReconnected)\r\n    }\r\n  }, [participant])\r\n\r\n  return isReconnecting\r\n}\r\n","import React from 'react'\r\nimport { Pin } from '@primer/octicons-react'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\n\r\nexport default function PinIcon() {\r\n  return (\r\n    <Tooltip title=\"Participant is pinned. Click to un-pin.\" placement=\"top\">\r\n      <SvgIcon style={{ float: 'right', fontSize: '29px' }}>\r\n        <Pin />\r\n      </SvgIcon>\r\n    </Tooltip>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\n// The 'switchedOff' event is emitted when there is not enough bandwidth to support\r\n// a track. See: https://www.twilio.com/docs/video/tutorials/using-bandwidth-profile-api#understanding-track-switch-offs\r\n\r\nexport default function useIsTrackSwitchedOff(track) {\r\n  const [isSwitchedOff, setIsSwitchedOff] = useState(\r\n    track && track.isSwitchedOff,\r\n  )\r\n\r\n  useEffect(() => {\r\n    // Reset the value if the 'track' variable changes\r\n    setIsSwitchedOff(track && track.isSwitchedOff)\r\n\r\n    if (track) {\r\n      const handleSwitchedOff = () => setIsSwitchedOff(true)\r\n      const handleSwitchedOn = () => setIsSwitchedOff(false)\r\n      track.on('switchedOff', handleSwitchedOff)\r\n      track.on('switchedOn', handleSwitchedOn)\r\n      return () => {\r\n        track.off('switchedOff', handleSwitchedOff)\r\n        track.off('switchedOn', handleSwitchedOn)\r\n      }\r\n    }\r\n  }, [track])\r\n\r\n  return !!isSwitchedOff\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport AudioLevelIndicator from './AudioLevelIndicator'\r\nimport BandwidthWarning from './BandwidthWarning'\r\nimport NetworkQualityLevel from './NetworkQualityLevel'\r\nimport ParticipantConnectionIndicator from './ParticipantConnectionIndicator'\r\nimport PinIcon from './PinIcon'\r\nimport ScreenShare from '@material-ui/icons/ScreenShare'\r\nimport VideocamOff from '@material-ui/icons/VideocamOff'\r\n\r\nimport useParticipantNetworkQualityLevel from '../../../hooks/useParticipantNetworkQualityLevel'\r\nimport useIsTrackSwitchedOff from '../../../hooks/useIsTrackSwitchedOff'\r\nimport useTrack from '../../../hooks/useTrack'\r\nimport usePublications from '../../../hooks/usePublications'\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      position: 'relative',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      // height: `${(theme.sidebarWidth * 9) / 16}px`,\r\n      height: '100%',\r\n      overflow: 'hidden',\r\n      cursor: 'pointer',\r\n      '& video': {\r\n        filter: 'none',\r\n      },\r\n      '& svg': {\r\n        stroke: 'black',\r\n        strokeWidth: '0.8px',\r\n      },\r\n      [theme.breakpoints.down('xs')]: {\r\n        height: theme.sidebarMobileHeight,\r\n        width: `${(theme.sidebarMobileHeight * 16) / 9}px`,\r\n        marginRight: '3px',\r\n        fontSize: '10px',\r\n      },\r\n    },\r\n    isVideoSwitchedOff: {\r\n      '& video': {\r\n        filter: 'blur(4px) grayscale(1) brightness(1)',\r\n      },\r\n    },\r\n    infoContainer: {\r\n      position: 'absolute',\r\n      zIndex: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'space-between',\r\n      height: '100%',\r\n      padding: '0.4em',\r\n      width: '100%',\r\n      background: 'transparent',\r\n    },\r\n    hideVideo: {\r\n      // background: 'black',\r\n    },\r\n    identity: {\r\n      background: 'rgba(0, 0, 0, 0.7)',\r\n      padding: '0.1em 0.3em',\r\n      margin: 0,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n    infoRow: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n    },\r\n  }),\r\n)\r\n\r\nexport default function ParticipantInfo({\r\n  participant,\r\n  onClick,\r\n  isSelected,\r\n  children,\r\n}) {\r\n  const publications = usePublications(participant)\r\n\r\n  const audioPublication = publications.find((p) => p.kind === 'audio')\r\n  const videoPublication = publications.find((p) => p.trackName === 'camera')\r\n\r\n  const networkQualityLevel = useParticipantNetworkQualityLevel(participant)\r\n  const isVideoEnabled = Boolean(videoPublication)\r\n  const isScreenShareEnabled = publications.find(\r\n    (p) => p.trackName === 'screen',\r\n  )\r\n\r\n  const videoTrack = useTrack(videoPublication)\r\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(videoTrack)\r\n\r\n  const audioTrack = useTrack(audioPublication)\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.container, {\r\n        [classes.isVideoSwitchedOff]: isVideoSwitchedOff,\r\n      })}\r\n      onClick={onClick}\r\n      data-cy-participant={participant.identity}\r\n    >\r\n      <div\r\n        className={clsx(classes.infoContainer, {\r\n          [classes.hideVideo]: !isVideoEnabled,\r\n        })}\r\n      >\r\n        <div className={classes.infoRow}>\r\n          <h4 className={classes.identity}>\r\n            <ParticipantConnectionIndicator participant={participant} />\r\n            {participant.identity}\r\n          </h4>\r\n          <NetworkQualityLevel qualityLevel={networkQualityLevel} />\r\n        </div>\r\n        <div>\r\n          <AudioLevelIndicator audioTrack={audioTrack} background=\"white\" />\r\n          {!isVideoEnabled && <VideocamOff />}\r\n          {isScreenShareEnabled && <ScreenShare />}\r\n          {isSelected && <PinIcon />}\r\n        </div>\r\n      </div>\r\n      {isVideoSwitchedOff && <BandwidthWarning />}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport default function useParticipantNetworkQualityLevel(participant) {\r\n  const [networkQualityLevel, setNetworkQualityLevel] = useState(\r\n    participant.networkQualityLevel,\r\n  )\r\n\r\n  useEffect(() => {\r\n    const handleNewtorkQualityLevelChange = (newNetworkQualityLevel) =>\r\n      setNetworkQualityLevel(newNetworkQualityLevel)\r\n\r\n    setNetworkQualityLevel(participant.networkQualityLevel)\r\n    participant.on(\r\n      'networkQualityLevelChanged',\r\n      handleNewtorkQualityLevelChange,\r\n    )\r\n    return () => {\r\n      participant.off(\r\n        'networkQualityLevelChanged',\r\n        handleNewtorkQualityLevelChange,\r\n      )\r\n    }\r\n  }, [participant])\r\n\r\n  return networkQualityLevel\r\n}\r\n","import React from 'react'\r\nimport ParticipantTracks from './ParticipantTracks'\r\nimport ParticipantInfo from './ParticipantInfo'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function Participant({ participant, disableAudio }) {\r\n  const room = useSelector((state) => state.room.room)\r\n  return (\r\n    <ParticipantInfo participant={participant} disableAudio={disableAudio}>\r\n      <ParticipantTracks\r\n        participant={participant}\r\n        disableAudio={disableAudio}\r\n      />\r\n    </ParticipantInfo>\r\n  )\r\n}\r\n","/**\r\n *\r\n * Custom Icons\r\n *\r\n */\r\n\r\nimport React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faLockOpen,\r\n  faLock,\r\n  faMicrophoneAlt,\r\n  faMicrophoneAltSlash,\r\n  faCheck,\r\n  faPaperPlane,\r\n  faTimes,\r\n} from '@fortawesome/free-solid-svg-icons'\r\nimport { faCommentDots } from '@fortawesome/free-regular-svg-icons'\r\nimport { faYoutube, faFacebook } from '@fortawesome/free-brands-svg-icons'\r\n\r\nexport const LockIcon = () => {\r\n  return <FontAwesomeIcon icon={faLock} />\r\n}\r\nexport const UnlockIcon = () => {\r\n  return <FontAwesomeIcon icon={faLockOpen} />\r\n}\r\nexport const ChatIcon = () => {\r\n  return <FontAwesomeIcon icon={faCommentDots} />\r\n}\r\nexport const MicOnIcon = () => {\r\n  return <FontAwesomeIcon icon={faMicrophoneAlt} />\r\n}\r\nexport const MicOffIcon = () => {\r\n  return <FontAwesomeIcon icon={faMicrophoneAltSlash} />\r\n}\r\nexport const CheckIcon = () => {\r\n  return <FontAwesomeIcon icon={faCheck} />\r\n}\r\n\r\nexport const PaperPlanIcon = () => {\r\n  return <FontAwesomeIcon icon={faPaperPlane} />\r\n}\r\n\r\nexport const CloseIcon = () => {\r\n  return <FontAwesomeIcon icon={faTimes} />\r\n}\r\n\r\nexport const YoutubeIcon = () => {\r\n  return <FontAwesomeIcon icon={faYoutube} />\r\n}\r\n\r\nexport const FacebookIcon = () => {\r\n  return <FontAwesomeIcon icon={faFacebook} />\r\n}\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Participant from './Participant'\r\nimport { Button, makeStyles, withStyles, Badge } from '@material-ui/core'\r\nimport {\r\n  UnlockIcon,\r\n  ChatIcon,\r\n  LockIcon,\r\n  MicOnIcon,\r\n  CheckIcon,\r\n  MicOffIcon,\r\n} from '../../Icons/Icons'\r\nimport * as api from '../../../lib/api'\r\nimport {\r\n  setPinSent,\r\n  switchMic,\r\n  openChat,\r\n  selectMain,\r\n  sendLockRequest,\r\n  sendUnLockRequest,\r\n} from '../../../redux/room/actions'\r\nconst useStyles = makeStyles((theme) => ({\r\n  pinMainWrapper: {\r\n    height: '100%',\r\n    border: '1px solid blue',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n  },\r\n  videoWrapper: {\r\n    height: 'calc(100% - 40px)',\r\n  },\r\n\r\n  buttonGroup: {\r\n    display: 'flex',\r\n    marginBottom: '0px',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    height: '40px',\r\n  },\r\n  emptyScene: {\r\n    textAlign: 'center',\r\n    backgroundColor: 'black',\r\n    height: '100%',\r\n    border: '1px solid brown',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  button: {\r\n    width: '50%',\r\n    color: 'white',\r\n  },\r\n\r\n  activeButton: {\r\n    color: '#FF0058',\r\n  },\r\n\r\n  deactiveButton: {\r\n    color: 'white',\r\n  },\r\n}))\r\n\r\nconst LockButton = withStyles({\r\n  root: {\r\n    color: '#80FF00',\r\n    border: '1px solid grey',\r\n    borderRadius: '0px',\r\n    backgroundColor: 'black',\r\n    flex: 1,\r\n  },\r\n})(Button)\r\n\r\nconst UnlockButton = withStyles({\r\n  root: {\r\n    color: '#00ECF8',\r\n    border: '1px solid grey',\r\n    borderRadius: '0px',\r\n    backgroundColor: 'black',\r\n    flex: 1,\r\n  },\r\n})(Button)\r\n\r\nconst MicButton = withStyles({\r\n  root: {\r\n    color: '#FF0058',\r\n    border: '1px solid grey',\r\n    borderRadius: '0px',\r\n    backgroundColor: 'black',\r\n    flex: 1,\r\n  },\r\n})(Button)\r\n\r\nconst UnMicButton = withStyles({\r\n  root: {\r\n    color: 'white',\r\n    border: '1px solid grey',\r\n    borderRadius: '0px',\r\n    backgroundColor: 'black',\r\n    flex: 1,\r\n  },\r\n})(Button)\r\n\r\nconst ChatButton = withStyles({\r\n  root: {\r\n    border: '1px solid grey',\r\n    borderRadius: '0px',\r\n    backgroundColor: 'black',\r\n    flex: 1,\r\n  },\r\n})(Button)\r\n\r\nconst PinParticipant = ({ pinId }) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const userData = useSelector((state) => state.user)\r\n  const roomData = useSelector((state) => state.room)\r\n  const participants = roomData.participants\r\n  const pins = roomData.pins\r\n  const pin = pins[pinId]\r\n  if (!pin) return <div className={classes.emptyScene}> not Available</div>\r\n  const pinParticipant = participants.find((p) => p.identity === pin.identity)\r\n  const unreadChats = pin.chats.filter((chat) => chat.read === false)\r\n\r\n  const onUnLockRequest = async () => {\r\n    dispatch(sendUnLockRequest({ identity: pin.identity }))\r\n  }\r\n\r\n  const onLockRequest = async () => {\r\n    dispatch(sendLockRequest({ identity: pin.identity }))\r\n  }\r\n\r\n  const onMicTurnOn = () => {\r\n    dispatch(switchMic({ identity: pinParticipant.identity, isOn: true }))\r\n      .then(() => {\r\n        console.log('SET_MIC_ON SUCCESS')\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message)\r\n      })\r\n  }\r\n\r\n  const onMicTurnOff = () => {\r\n    dispatch(switchMic({ identity: pinParticipant.identity, isOn: false }))\r\n      .then(() => {\r\n        console.log('SET_MIC_OFF SUCCESS')\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message)\r\n      })\r\n  }\r\n\r\n  const onChat = () => {\r\n    dispatch(openChat({ identity: pinParticipant.identity }))\r\n  }\r\n\r\n  const handlePinSelect = () => {\r\n    dispatch(selectMain({ identity: pin.identity }))\r\n  }\r\n\r\n  if (!!pinParticipant) {\r\n    return (\r\n      <div className={classes.pinMainWrapper}>\r\n        <div className={classes.videoWrapper} onClick={handlePinSelect}>\r\n          <Participant participant={pinParticipant} disableAudio={!pin.mic} />\r\n        </div>\r\n        {pin.locked === true ? (\r\n          <div className={classes.buttonGroup}>\r\n            {pin.mic ? (\r\n              <MicButton\r\n                variant=\"outline\"\r\n                style={{ root: { color: 'green' } }}\r\n                onClick={onMicTurnOff}\r\n              >\r\n                <MicOnIcon />\r\n              </MicButton>\r\n            ) : (\r\n              <UnMicButton\r\n                variant=\"outline\"\r\n                style={{ root: { color: 'green' } }}\r\n                onClick={onMicTurnOn}\r\n              >\r\n                <MicOffIcon />\r\n              </UnMicButton>\r\n            )}\r\n            {pin.identity === roomData.chatMember ? (\r\n              <ChatButton\r\n                variant=\"outline\"\r\n                onClick={onChat}\r\n                className={classes.activeButton}\r\n              >\r\n                <ChatIcon />\r\n              </ChatButton>\r\n            ) : (\r\n              <ChatButton\r\n                variant=\"outline\"\r\n                onClick={onChat}\r\n                className={classes.deactiveButton}\r\n              >\r\n                {unreadChats.length > 0 ? (\r\n                  <Badge color=\"secondary\" badgeContent={unreadChats.length}>\r\n                    <ChatIcon />\r\n                  </Badge>\r\n                ) : (\r\n                  <ChatIcon />\r\n                )}\r\n              </ChatButton>\r\n            )}\r\n\r\n            <LockButton variant=\"outline\" onClick={onLockRequest}>\r\n              <LockIcon />\r\n            </LockButton>\r\n          </div>\r\n        ) : pin.sent === false ? (\r\n          <div className={classes.buttonGroup}>\r\n            <UnlockButton variant=\"outline\" onClick={onUnLockRequest}>\r\n              <UnlockIcon />\r\n            </UnlockButton>\r\n          </div>\r\n        ) : (\r\n          <div className={classes.buttonGroup}>\r\n            <UnlockButton variant=\"outline\">\r\n              <CheckIcon />\r\n            </UnlockButton>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div className={classes.emptyScene}>Not Available</div>\r\n  }\r\n}\r\nexport default PinParticipant\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\n\r\nexport default function ConfigureDialog({\r\n  showDialog,\r\n  closeDialog,\r\n  setStreamUrl,\r\n}) {\r\n  const [url, setUrl] = React.useState('')\r\n\r\n  const onChangeUrl = (e) => {\r\n    setUrl(e.target.value)\r\n  }\r\n  const onSetStreamUrl = (e) => {\r\n    console.log(url)\r\n    setStreamUrl(url)\r\n    closeDialog()\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={showDialog}\r\n      onClose={closeDialog}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">Youtube Channel</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>Enter Youtube Channel URL.</DialogContentText>\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id=\"name\"\r\n          label=\"URL\"\r\n          type=\"text\"\r\n          onChange={onChangeUrl}\r\n          fullWidth\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={closeDialog} color=\"default\" variant=\"contained\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={onSetStreamUrl} color=\"secondary\" variant=\"contained\">\r\n          OK\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n","import { createAction } from 'redux-actions'\r\nimport * as api from '../../lib/api'\r\nimport { setStreamUrlSuccess, initRoom } from '../room/actions'\r\n\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAILED = 'LOGIN_FAILED'\r\nexport const CHECK_AUTH = 'CHECK_AUTH'\r\nexport const DJ_CONNECT_SUCCESS = 'DJ_CONNECT_SUCCESS'\r\nexport const loginFailed = createAction(LOGIN_FAILED)\r\nexport const loginSuccess = createAction(LOGIN_SUCCESS)\r\nexport const djConnectSuccess = createAction(DJ_CONNECT_SUCCESS)\r\n\r\nexport const loginRequest = (passcode) => async (dispatch) => {\r\n  try {\r\n    const res = await api.userLogin(passcode)\r\n    dispatch(loginSuccess(res.data))\r\n    dispatch(setStreamUrlSuccess(res.data.stream_url))\r\n  } catch (e) {\r\n    dispatch(loginFailed())\r\n    dispatch(initRoom())\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n  dispatch(loginFailed())\r\n  dispatch(initRoom())\r\n}\r\n\r\nexport const djConnect = (username, link) => async (dispatch) => {\r\n  console.log('DJ CONNECT THUNK ACTION')\r\n  try {\r\n    const res = await api.djConnect(username, link)\r\n    dispatch(djConnectSuccess({ username, link, token: res.data.token }))\r\n  } catch (e) {\r\n    dispatch(loginFailed())\r\n    throw e\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Participant from './Participant'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport { makeStyles, Button, withStyles } from '@material-ui/core'\r\nimport { logout } from '../../../redux/user/actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainWrapper: {\r\n    height: '100%',\r\n    backgroundColor: '#333333',\r\n    border: '1px solid green',\r\n    height: '100%',\r\n  },\r\n  participantWrapper: {\r\n    height: 'calc(100% - 36px)',\r\n  },\r\n  buttonsWrapper: {\r\n    marginBottom: '0px',\r\n    height: '50px',\r\n  },\r\n}))\r\n\r\nconst ExitButton = withStyles({\r\n  root: {\r\n    borderRadius: '0px',\r\n    border: '1px solid grey',\r\n    backgroundColor: 'black',\r\n    width: '100%',\r\n    color: 'white',\r\n    fontStyle: 'bold',\r\n  },\r\n})(Button)\r\n\r\nconst LocalParticipant = () => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const room = useSelector((state) => state.room.room)\r\n  const localParticipant = room.localParticipant\r\n\r\n  const onClickExit = (e) => {\r\n    room.disconnect()\r\n    dispatch(logout())\r\n    history.push('/login')\r\n  }\r\n\r\n  return (\r\n    <div className={classes.mainWrapper}>\r\n      <div className={classes.participantWrapper}>\r\n        <Participant participant={localParticipant} disableAudio={false} />\r\n      </div>\r\n      <div className={classes.buttonsWrapper}>\r\n        <ExitButton variant=\"outlined\" onClick={onClickExit}>\r\n          Exit Party <ExitToAppIcon />\r\n        </ExitButton>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LocalParticipant\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport VideocamOff from '@material-ui/icons/VideocamOff'\r\nimport usePublications from '../../../hooks/usePublications'\r\nimport useTrack from '../../../hooks/useTrack'\r\nimport useIsTrackSwitchedOff from '../../../hooks/useIsTrackSwitchedOff'\r\nimport BandwidthWarning from './BandwidthWarning'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    height: 'calc(100% - 70px)',\r\n    background: 'black',\r\n    border: '2px solid cyan',\r\n    borderStyle: 'dashed',\r\n  },\r\n  isVideoSwitchedOff: {\r\n    '& video': {\r\n      filter: 'blur(4px) grayscale(1) brightness(0.5)',\r\n    },\r\n  },\r\n\r\n  identity: {\r\n    background: 'rgba(0, 0, 0, 0.7)',\r\n    padding: '0.1em 0.3em',\r\n    margin: '1em',\r\n    fontSize: '1.2em',\r\n    display: 'inline-flex',\r\n    '& svg': {\r\n      marginLeft: '0.3em',\r\n    },\r\n  },\r\n  infoContainer: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    height: '100%',\r\n    padding: '0.4em',\r\n    width: '100%',\r\n  },\r\n})\r\n\r\nexport default function MainParticipantInfo({ participant, children }) {\r\n  const classes = useStyles()\r\n\r\n  const publications = usePublications(participant)\r\n  const videoPublication = publications.find((p) => p.trackName === 'camera')\r\n  const isVideoEnabled = Boolean(videoPublication)\r\n  const videoTrack = useTrack(videoPublication)\r\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(videoTrack)\r\n\r\n  return (\r\n    <div\r\n      data-cy-main-participant\r\n      className={clsx(classes.container, {\r\n        [classes.isVideoSwitchedOff]: isVideoSwitchedOff,\r\n      })}\r\n    >\r\n      <div className={classes.infoContainer}>\r\n        <h4 className={classes.identity}>\r\n          {participant.identity}\r\n          {!isVideoEnabled && <VideocamOff />}\r\n        </h4>\r\n      </div>\r\n      {isVideoSwitchedOff && <BandwidthWarning />}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport ParticipantTracks from './ParticipantTracks'\r\nimport MainParticipantInfo from './MainParticipantInfo'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    height: 'calc(100% - 70px)',\r\n    background: 'black',\r\n    border: '2px solid cyan',\r\n    borderStyle: 'dashed',\r\n  },\r\n})\r\nexport default function MainParticipant() {\r\n  const classes = useStyles()\r\n  const roomData = useSelector((state) => state.room)\r\n  const participants = roomData.participants\r\n  const [mainParticipant, setMainParticipant] = useState(\r\n    participants[Math.floor(Math.random() * participants.length)],\r\n  )\r\n  const selectMainRandomly = () =>\r\n    setMainParticipant(\r\n      participants[Math.floor(Math.random() * participants.length)],\r\n    )\r\n  const duration = 15000\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      selectMainRandomly()\r\n    }, duration)\r\n    return () => clearInterval(interval)\r\n  }, [])\r\n\r\n  return mainParticipant ? (\r\n    <MainParticipantInfo participant={mainParticipant}>\r\n      <ParticipantTracks\r\n        participant={mainParticipant}\r\n        disableAudio\r\n        // videoPriority={videoPriority}\r\n      />\r\n    </MainParticipantInfo>\r\n  ) : (\r\n    <div className={classes.container}>No one selected</div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ReactPlayer from 'react-player'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { useSelector } from 'react-redux'\r\nconst useStyles = makeStyles({\r\n  streamWrapper: {\r\n    display: (props) => (props.tabStatus === 'dj' ? 'flex' : 'none'),\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: 'calc(100% - 70px)',\r\n  },\r\n})\r\nconst LiveStream = ({ tabStatus }) => {\r\n  const classes = useStyles({ tabStatus: tabStatus })\r\n  const roomData = useSelector((state) => state.room)\r\n  const url = roomData.stream.url\r\n\r\n  const onError = () => {\r\n    console.log('ERROR')\r\n  }\r\n  return (\r\n    <div className={classes.streamWrapper}>\r\n      <ReactPlayer\r\n        url={url}\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        controls={false}\r\n        config={{\r\n          youtube: {\r\n            playerVars: { showinfo: 1, modestbranding: 1 },\r\n          },\r\n        }}\r\n        onError={onError}\r\n        playing\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LiveStream\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core'\r\nconst useStyles = makeStyles((theme) => ({\r\n  tabControlWrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-end',\r\n  },\r\n  tabControlItem: {\r\n    padding: theme.spacing(1),\r\n    opacity: '0.3',\r\n    '& > img': {\r\n      width: '100%',\r\n    },\r\n  },\r\n  tabControlItemActive: {\r\n    padding: theme.spacing(1),\r\n    opacity: 1,\r\n    '& > img': {\r\n      width: '100%',\r\n    },\r\n  },\r\n}))\r\n\r\nconst PartyTabControl = ({ status, setTabStatus }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.tabControlWrapper}>\r\n      <div\r\n        className={`${\r\n          status === 'dj'\r\n            ? classes.tabControlItemActive\r\n            : classes.tabControlItem\r\n        }`}\r\n        onClick={() => setTabStatus('dj')}\r\n      >\r\n        <img src=\"./assets/live-dj-white.png\" alt=\"DJ\" />\r\n      </div>\r\n      <div\r\n        className={`${\r\n          status === 'fav'\r\n            ? classes.tabControlItemActive\r\n            : classes.tabControlItem\r\n        }`}\r\n        onClick={() => setTabStatus('fav')}\r\n      >\r\n        <img src=\"./assets/fav.png\" alt=\"fav\" />\r\n      </div>\r\n      <div\r\n        className={`${\r\n          status === 'grid'\r\n            ? classes.tabControlItemActive\r\n            : classes.tabControlItem\r\n        }`}\r\n        onClick={() => setTabStatus('grid')}\r\n      >\r\n        <img src=\"./assets/grid.png\" alt=\"Grid\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PartyTabControl\r\n","import React from 'react'\r\nimport {\r\n  makeStyles,\r\n  withStyles,\r\n  Grid,\r\n  Slider,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport VolumeDown from '@material-ui/icons/VolumeDown'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nconst useStyles = makeStyles((theme) => ({\r\n  volumeControlWrapper: {\r\n    display: 'block',\r\n  },\r\n}))\r\n\r\nconst VolumeSlider = withStyles({\r\n  root: {\r\n    color: '#fff',\r\n  },\r\n  thumb: {\r\n    backgroundColor: '#fff',\r\n  },\r\n})(Slider)\r\n\r\nconst VolumeControl = () => {\r\n  const classes = useStyles()\r\n  const [volume, setVolume] = React.useState(30)\r\n  const handleChange = (event, newValue) => {\r\n    setVolume(newValue)\r\n  }\r\n  return (\r\n    <div className={classes.volumeControlWrapper}>\r\n      <Grid container spacing={2}>\r\n        <Grid item>\r\n          <VolumeDown />\r\n        </Grid>\r\n        <Grid item xs>\r\n          <VolumeSlider\r\n            value={volume}\r\n            onChange={handleChange}\r\n            aria-labelledby=\"continuous-slider\"\r\n            style={{ thumb: { backgroundColor: '#fff' } }}\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <VolumeUp />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VolumeControl\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport Video from 'twilio-video'\r\n\r\nexport function useLocalAudioTrack() {\r\n  const [track, setTrack] = useState()\r\n\r\n  useEffect(() => {\r\n    Video.createLocalAudioTrack().then((newTrack) => {\r\n      setTrack(newTrack)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const handleStopped = () => setTrack(undefined)\r\n    if (track) {\r\n      track.on('stopped', handleStopped)\r\n      return () => {\r\n        track.off('stopped', handleStopped)\r\n      }\r\n    }\r\n  }, [track])\r\n\r\n  return track\r\n}\r\n\r\nexport function useLocalVideoTrack() {\r\n  const [track, setTrack] = useState()\r\n\r\n  const getLocalVideoTrack = useCallback(\r\n    () =>\r\n      Video.createLocalVideoTrack({\r\n        frameRate: 24,\r\n        height: 720,\r\n        width: 1280,\r\n        name: 'camera',\r\n      }).then((newTrack) => {\r\n        setTrack(newTrack)\r\n        return newTrack\r\n      }),\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    // We get a new local video track when the app loads.\r\n    getLocalVideoTrack()\r\n  }, [getLocalVideoTrack])\r\n\r\n  useEffect(() => {\r\n    const handleStopped = () => setTrack(undefined)\r\n    if (track) {\r\n      track.on('stopped', handleStopped)\r\n      return () => {\r\n        track.off('stopped', handleStopped)\r\n      }\r\n    }\r\n  }, [track])\r\n\r\n  return [track, getLocalVideoTrack]\r\n}\r\n\r\nexport default function useLocalTracks() {\r\n  const audioTrack = useLocalAudioTrack()\r\n  const [videoTrack, getLocalVideoTrack] = useLocalVideoTrack()\r\n\r\n  const localTracks = [audioTrack, videoTrack].filter(\r\n    (track) => track !== undefined,\r\n  )\r\n\r\n  return { localTracks, getLocalVideoTrack }\r\n}\r\n","import EventEmitter from 'events'\r\nimport { useCallback, useEffect, useRef, useState } from 'react'\r\nimport Video from 'twilio-video'\r\n\r\nwindow.TwilioVideo = Video\r\n\r\nexport default function useRoom(localTracks, onError, options) {\r\n  const [room, setRoom] = useState(new EventEmitter())\r\n  const [isConnecting, setIsConnecting] = useState(false)\r\n  const disconnectHandlerRef = useRef(() => {})\r\n  const localTracksRef = useRef([])\r\n\r\n  useEffect(() => {\r\n    // It can take a moment for Video.connect to connect to a room. During this time, the user may have enabled or disabled their\r\n    // local audio or video tracks. If this happens, we store the localTracks in this ref, so that they are correctly published\r\n    // once the user is connected to the room.\r\n    localTracksRef.current = localTracks\r\n  }, [localTracks])\r\n\r\n  const connect = useCallback(\r\n    (token) => {\r\n      setIsConnecting(true)\r\n      return Video.connect(token, { ...options, tracks: [] }).then(\r\n        (newRoom) => {\r\n          setRoom(newRoom)\r\n          console.log(newRoom)\r\n\r\n          newRoom.once('disconnected', () => {\r\n            console.log('ROOM DISCONNECTED')\r\n            // Reset the room only after all other `disconnected` listeners have been called.\r\n            setTimeout(() => setRoom(new EventEmitter()))\r\n            window.removeEventListener(\r\n              'beforeunload',\r\n              disconnectHandlerRef.current,\r\n            )\r\n          })\r\n\r\n          // @ts-ignore\r\n          window.twilioRoom = newRoom\r\n\r\n          localTracksRef.current.forEach((track) =>\r\n            // Tracks can be supplied as arguments to the Video.connect() function and they will automatically be published.\r\n            // However, tracks must be published manually in order to set the priority on them.\r\n            // All video tracks are published with 'low' priority. This works because the video\r\n            // track that is displayed in the 'MainParticipant' component will have it's priority\r\n            // set to 'high' via track.setPriority()\r\n            newRoom.localParticipant.publishTrack(track, {\r\n              priority: track.kind === 'video' ? 'low' : 'standard',\r\n            }),\r\n          )\r\n\r\n          disconnectHandlerRef.current = () => {\r\n            console.log('beforeunload hook called!')\r\n            newRoom.disconnect()\r\n          }\r\n          setIsConnecting(false)\r\n\r\n          // Add a listener to disconnect from the room when a user closes their browser\r\n          window.addEventListener('beforeunload', disconnectHandlerRef.current)\r\n        },\r\n        (error) => {\r\n          onError(error)\r\n          setIsConnecting(false)\r\n        },\r\n      )\r\n    },\r\n    [options, onError],\r\n  )\r\n\r\n  return { room, isConnecting, connect }\r\n}\r\n","import React, { createContext, useContext, useState, useEffect } from 'react'\r\nexport const selectedParticipantContext = createContext(null)\r\n\r\nexport default function useSelectedParticipant() {\r\n  const [selectedParticipant, setSelectedParticipant] = useContext(\r\n    selectedParticipantContext,\r\n  )\r\n  return [selectedParticipant, setSelectedParticipant]\r\n}\r\n\r\nexport function SelectedParticipantProvider({ room, children }) {\r\n  const [selectedParticipant, _setSelectedParticipant] = useState(null)\r\n  const setSelectedParticipant = (participant) =>\r\n    _setSelectedParticipant((prevParticipant) =>\r\n      prevParticipant === participant ? null : participant,\r\n    )\r\n\r\n  useEffect(() => {\r\n    const onDisconnect = () => _setSelectedParticipant(null)\r\n    room.on('disconnected', onDisconnect)\r\n    return () => {\r\n      room.off('disconnected', onDisconnect)\r\n    }\r\n  }, [room])\r\n\r\n  return (\r\n    <selectedParticipantContext.Provider\r\n      value={[selectedParticipant, setSelectedParticipant]}\r\n    >\r\n      {children}\r\n    </selectedParticipantContext.Provider>\r\n  )\r\n}\r\n","import React, { createContext, useState, Children } from 'react'\r\nimport useHandleRoomDisconnectionErrors from '../../../hooks/useHandleRoomDisconnectionErrors'\r\nimport useHandleTrackPublicationFailed from '../../../hooks/useHandleTrackPublicationFailed'\r\nimport useHandleOnDisconnect from '../../../hooks/useHandleOnDisconnect'\r\nimport useRoom from '../../../hooks/useRoom/useRoom'\r\nimport useLocalTracks from '../../../hooks/useLocalTracks/useLocalTracks'\r\nimport { SelectedParticipantProvider } from '../../../hooks/useSelectedParticipant'\r\n\r\nconst connectionOptions = {\r\n  bandwidthProfile: {\r\n    video: {\r\n      mode: 'collaboration',\r\n      dominantSpeakerPriority: 'standard',\r\n      renderDimensions: {\r\n        high: { height: 1080, width: 1920 },\r\n        standard: { height: 720, width: 1280 },\r\n        low: { height: 90, width: 160 },\r\n      },\r\n    },\r\n  },\r\n  dominantSpeaker: true,\r\n  maxAudioBitrate: 12000,\r\n  networkQuality: { local: 1, remote: 1 },\r\n  preferredVideoCodecs: [{ codec: 'VP8', simulcast: true }],\r\n}\r\n\r\nexport const VideoPartyContext = createContext()\r\n\r\nconst VideoPartyProvider = ({ children }) => {\r\n  const [error, setError] = useState(null)\r\n  const onTwilioErrorCallback = (error) => {\r\n    console.log(`ERROR: ${error.message}`, error)\r\n    // onError(error)\r\n    setError(error)\r\n  }\r\n\r\n  const onTwilioRoomDisconnect = () => {\r\n    console.log('Disconnected')\r\n  }\r\n  const { localTracks, getLocalVideoTrack } = useLocalTracks()\r\n  const { room, isConnecting, connect } = useRoom(\r\n    localTracks,\r\n    onTwilioErrorCallback,\r\n    connectionOptions,\r\n  )\r\n\r\n  useHandleRoomDisconnectionErrors(room, onTwilioErrorCallback)\r\n  useHandleTrackPublicationFailed(room, onTwilioErrorCallback)\r\n  useHandleOnDisconnect(room, onTwilioRoomDisconnect)\r\n\r\n  return (\r\n    <VideoPartyContext.Provider\r\n      value={{\r\n        room,\r\n        localTracks,\r\n        getLocalVideoTrack,\r\n        isConnecting,\r\n        connect,\r\n        onError: onTwilioErrorCallback,\r\n      }}\r\n    >\r\n      <SelectedParticipantProvider room={room}>\r\n        {children}\r\n      </SelectedParticipantProvider>\r\n    </VideoPartyContext.Provider>\r\n  )\r\n}\r\n\r\nexport default VideoPartyProvider\r\n","import React from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { purple } from '@material-ui/core/colors'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport CameraIcon from '@material-ui/icons/Camera'\r\nimport MicIcon from '@material-ui/icons/Mic'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport useRoomState from '../../../hooks/useRoomState'\r\nimport { useHistory } from 'react-router-dom'\r\nimport useLocalAudioToggle from '../../../hooks/useLocalAudioToggle'\r\nimport useLocalVideoToggle from '../../../hooks/useLocalVideoToggle'\r\n\r\nconst IOSSwitch = withStyles((theme) => ({\r\n  root: {\r\n    width: 42,\r\n    height: 26,\r\n    padding: 0,\r\n    margin: theme.spacing(1),\r\n  },\r\n  switchBase: {\r\n    padding: 1,\r\n    '&$checked': {\r\n      transform: 'translateX(16px)',\r\n      color: theme.palette.common.white,\r\n      '& + $track': {\r\n        backgroundColor: '#52d869',\r\n        opacity: 1,\r\n        border: 'none',\r\n      },\r\n    },\r\n    '&$focusVisible $thumb': {\r\n      color: '#52d869',\r\n      border: '6px solid #fff',\r\n    },\r\n  },\r\n  thumb: {\r\n    width: 24,\r\n    height: 24,\r\n  },\r\n  track: {\r\n    borderRadius: 26 / 2,\r\n    border: `1px solid ${theme.palette.grey[400]}`,\r\n    backgroundColor: theme.palette.grey[200],\r\n    opacity: 1,\r\n    transition: theme.transitions.create(['background-color', 'border']),\r\n  },\r\n  checked: {},\r\n  focusVisible: {},\r\n}))(({ classes, ...props }) => {\r\n  return (\r\n    <Switch\r\n      focusVisibleClassName={classes.focusVisible}\r\n      disableRipple\r\n      classes={{\r\n        root: classes.root,\r\n        switchBase: classes.switchBase,\r\n        thumb: classes.thumb,\r\n        track: classes.track,\r\n        checked: classes.checked,\r\n      }}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\n\r\nconst ToggleMicButton = () => {\r\n  const [isAudioEnabled, toggleAudioEnabled] = useLocalAudioToggle()\r\n  const handleChange = () => {\r\n    toggleAudioEnabled()\r\n  }\r\n  return (\r\n    <IOSSwitch checked={isAudioEnabled} onChange={handleChange} name=\"camera\" />\r\n  )\r\n}\r\n\r\nconst ToggleCameraButton = () => {\r\n  const [isVideoEnabled, toggleVideoEnabled] = useLocalVideoToggle()\r\n\r\n  const handleChange = () => {\r\n    toggleVideoEnabled()\r\n  }\r\n  return (\r\n    <IOSSwitch checked={isVideoEnabled} onChange={handleChange} name=\"camera\" />\r\n  )\r\n}\r\nconst DeviceSwitchControl = () => {\r\n  const [state, setState] = React.useState({\r\n    mic: true,\r\n    camera: true,\r\n  })\r\n\r\n  const handleChange = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.checked })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Grid container spacing={2}>\r\n        <Grid item>\r\n          <CameraIcon />\r\n        </Grid>\r\n        <Grid item xs>\r\n          Webcam\r\n        </Grid>\r\n        <Grid item>\r\n          <ToggleCameraButton />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container spacing={2}>\r\n        <Grid item>\r\n          <MicIcon />\r\n        </Grid>\r\n        <Grid item xs>\r\n          Microphone\r\n        </Grid>\r\n        <Grid item>\r\n          {/* <IOSSwitch checked={state.mic} onChange={handleChange} name=\"mic\" /> */}\r\n          <ToggleMicButton />\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DeviceSwitchControl\r\n","import { useCallback } from 'react'\r\nimport useVideoPartyContext from '../useVideoPartyContext'\r\nimport useIsTrackEnabled from '../useIsTrackEnabled'\r\nimport useLocalTracks from '../useLocalTracks/useLocalTracks'\r\n\r\nexport default function useLocalAudioToggle() {\r\n  const { localTracks } = useLocalTracks()\r\n  const audioTrack = localTracks.find((track) => track.kind === 'audio')\r\n  const isEnabled = useIsTrackEnabled(audioTrack)\r\n\r\n  const toggleAudioEnabled = useCallback(() => {\r\n    if (audioTrack) {\r\n      audioTrack.isEnabled ? audioTrack.disable() : audioTrack.enable()\r\n    }\r\n  }, [audioTrack])\r\n\r\n  return [isEnabled, toggleAudioEnabled]\r\n}\r\n","import { useCallback } from 'react'\r\nimport useVideoPartyContext from '../useVideoPartyContext'\r\nimport useLocalTracks from '../useLocalTracks/useLocalTracks'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function useLocalVideoToggle() {\r\n  const { localTracks, getLocalVideoTrack } = useLocalTracks()\r\n  const videoTrack = localTracks.find((track) => track.name === 'camera')\r\n  const localParticipant = useSelector((state) => state.room.localParticipant)\r\n  const toggleVideoEnabled = useCallback(() => {\r\n    if (videoTrack) {\r\n      if (localParticipant) {\r\n        const localTrackPublication = localParticipant.unpublishTrack(\r\n          videoTrack,\r\n        )\r\n        // TODO: remove when SDK implements this event. See: https://issues.corp.twilio.com/browse/JSDK-2592\r\n        localParticipant.emit('trackUnpublished', localTrackPublication)\r\n      }\r\n      videoTrack.stop()\r\n    } else {\r\n      getLocalVideoTrack().then((track) => {\r\n        if (localParticipant) {\r\n          localParticipant.publishTrack(track)\r\n        }\r\n      })\r\n    }\r\n  }, [videoTrack, localParticipant, getLocalVideoTrack])\r\n\r\n  return [!!videoTrack, toggleVideoEnabled]\r\n}\r\n","import React from 'react'\r\nimport VolumeControl from './VolumeControl'\r\nimport DeviceSwitchControl from './DeviceSwitchControl'\r\nimport { Grid, Typography, makeStyles } from '@material-ui/core'\r\nimport useParticipants from '../../../hooks/useParticipants/useParticipants'\r\nimport { useSelector } from 'react-redux'\r\nconst useStyles = makeStyles((theme) => ({\r\n  participantInfo: {\r\n    color: 'cyan',\r\n  },\r\n}))\r\nconst DeviceControl = ({ tabStatus }) => {\r\n  const classes = useStyles()\r\n  const pLen = useSelector((state) => state.room).participants.length\r\n  return (\r\n    <>\r\n      <Grid container spacing={2}>\r\n        <Grid item>\r\n          <Typography>\r\n            participants (\r\n            <span className={classes.participantInfo}>{pLen + 1}</span>)\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n      <VolumeControl />\r\n      <DeviceSwitchControl />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DeviceControl\r\n","/**\r\n * random button, configuration button\r\n */\r\nimport React from 'react'\r\nimport { makeStyles, Button } from '@material-ui/core'\r\nimport clsx from 'clsx'\r\nconst useStyles = makeStyles((theme) => ({\r\n  randomButton: {\r\n    marginBottom: theme.spacing(1),\r\n    marginTop: theme.spacing(2),\r\n    color: 'cyan',\r\n    border: '2px solid cyan',\r\n    borderRadius: '0px',\r\n    float: 'right',\r\n  },\r\n\r\n  configureButton: {\r\n    color: '#19ff03',\r\n    border: '2px solid #19ff03',\r\n  },\r\n  buttonGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    padding: '5px',\r\n    alignItems: 'flex-end',\r\n  },\r\n}))\r\n\r\nconst ButtonControl = ({ role, onConfigureLiveStream, onRandomButton }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.buttonGroup}>\r\n      <Button\r\n        variant=\"outlined\"\r\n        className={classes.randomButton}\r\n        onClick={onRandomButton}\r\n      >\r\n        Random Rooms\r\n      </Button>\r\n      {role === 'dj' ? (\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(classes.randomButton, classes.configureButton)}\r\n          style={{ marginLeft: '5px' }}\r\n          onClick={onConfigureLiveStream}\r\n        >\r\n          Configure Live Stream\r\n        </Button>\r\n      ) : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ButtonControl\r\n","import React from 'react'\r\nimport Pusher from 'react-pusher'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setPinMic } from '../../redux/room/actions'\r\nimport { useSnackbar } from 'notistack'\r\nconst MicPusher = () => {\r\n  const userData = useSelector((state) => state.user)\r\n  const channel = `${userData.identity}-mic`\r\n  const dispatch = useDispatch()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n\r\n  const onMic = (data) => {\r\n    if (data.message === 'on') {\r\n      dispatch(setPinMic({ identity: data.name, isOn: true }))\r\n      enqueueSnackbar(`microphone turned on with ${data.name}`, {\r\n        variant: 'info',\r\n        anchorOrigin: {\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        },\r\n      })\r\n    } else {\r\n      dispatch(setPinMic({ identity: data.name, isOn: false }))\r\n      enqueueSnackbar(`microphone turned off with ${data.name}`, {\r\n        variant: 'warning',\r\n        anchorOrigin: {\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return <Pusher channel={channel} event=\"mic-on\" onUpdate={onMic} />\r\n}\r\n\r\nexport default MicPusher\r\n","import React from 'react'\r\nimport Pusher from 'react-pusher'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { addMessage } from '../../redux/room/actions'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst MessagePusher = () => {\r\n  const userData = useSelector((state) => state.user)\r\n  const channel = `${userData.identity}-message`\r\n  const dispatch = useDispatch()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const onMessage = (data) => {\r\n    const opp = data.name\r\n    const msg = data.message\r\n    dispatch(addMessage({ identity: opp, message: msg, sent: false }))\r\n    enqueueSnackbar(`A new message from ${opp}`, {\r\n      variant: 'info',\r\n      anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'right',\r\n      },\r\n    })\r\n  }\r\n  return <Pusher channel={channel} event=\"message\" onUpdate={onMessage} />\r\n}\r\n\r\nexport default MessagePusher\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\n// import useParticipantWithId from '../../../hooks/useParticipantWithId'\r\nimport Participant from '../../Party/Participant/Participant'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst UnlockRequestDialog = ({\r\n  isOpen,\r\n  senderName,\r\n  handleAgree,\r\n  handleDecline,\r\n}) => {\r\n  const roomData = useSelector((state) => state.room)\r\n  const participants = roomData.participants\r\n  const senderP = participants.find((p) => p.identity === senderName)\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      // onClose={handleDecline}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogContent>\r\n        {/* <DialogContentText id=\"alert-dialog-description\"> */}\r\n        <div>\r\n          <Participant participant={senderP} disableAudio={true} />\r\n        </div>\r\n        <div>{senderName} wants to lock his room with you.</div>\r\n        {/* </DialogContentText> */}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleAgree} color=\"secondary\" variant=\"contained\">\r\n          Agree\r\n        </Button>\r\n        <Button onClick={handleDecline} color=\"default\" variant=\"contained\">\r\n          Decline\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default UnlockRequestDialog\r\n","import React, { useState } from 'react'\r\nimport Pusher from 'react-pusher'\r\nimport UnlockRequestDialog from '../Dialogs/AlertDialog/UnlockRequestDialog'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { unLockAccept, unLockDecline } from '../../redux/room/actions'\r\nconst UnLockRequestPusher = () => {\r\n  const [unlock, setUnlock] = useState(false)\r\n  const [senderName, setSenderName] = useState('')\r\n  const userData = useSelector((state) => state.user)\r\n  const myIdentity = userData.identity\r\n  const dispatch = useDispatch()\r\n  const onUnLockRequest = (data) => {\r\n    setSenderName(data.name)\r\n    setUnlock(true)\r\n  }\r\n\r\n  const handleAgreeUnlockRequest = async () => {\r\n    try {\r\n      dispatch(unLockAccept({ identity: senderName }))\r\n      setUnlock(false)\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  const handleDeclineUnlockRequest = () => {\r\n    try {\r\n      dispatch(unLockDecline({ identity: senderName }))\r\n      setUnlock(false)\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <UnlockRequestDialog\r\n        isOpen={unlock}\r\n        senderName={senderName}\r\n        handleAgree={handleAgreeUnlockRequest}\r\n        handleDecline={handleDeclineUnlockRequest}\r\n      />\r\n\r\n      <Pusher\r\n        channel={`${myIdentity}-unlock`}\r\n        event=\"unlock\"\r\n        onUpdate={onUnLockRequest}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UnLockRequestPusher\r\n","import React from 'react'\r\nimport Pusher from 'react-pusher'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setPinUnLock } from '../../redux/room/actions'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst UnLockAcceptPusher = () => {\r\n  const userData = useSelector((state) => state.user)\r\n  const channel = `${userData.identity}-unlock-accept`\r\n  const dispatch = useDispatch()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const onUnLockAccept = (data) => {\r\n    const sender = data.name\r\n    dispatch(setPinUnLock({ identity: sender }))\r\n    enqueueSnackbar(`${data.name} accepted your lock request`, {\r\n      variant: 'success',\r\n      anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'right',\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Pusher channel={channel} event=\"unlock-accept\" onUpdate={onUnLockAccept} />\r\n  )\r\n}\r\n\r\nexport default UnLockAcceptPusher\r\n","import React, { useState } from 'react'\r\nimport Pusher from 'react-pusher'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setPinLock } from '../../redux/room/actions'\r\nimport { useSnackbar } from 'notistack'\r\nconst LockRequestPusher = () => {\r\n  const userData = useSelector((state) => state.user)\r\n  const channel = `${userData.identity}-lock-request`\r\n  const dispatch = useDispatch()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const onLockRequest = (data) => {\r\n    dispatch(setPinLock({ identity: data.name }))\r\n    enqueueSnackbar(`${data.name} locked you`, {\r\n      variant: 'warning',\r\n      anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'right',\r\n      },\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <Pusher channel={channel} event=\"lock\" onUpdate={onLockRequest} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default LockRequestPusher\r\n","import React, { useState } from 'react'\r\nimport Pusher from 'react-pusher'\r\nimport MicPusher from './MicPusher'\r\nimport MessagePusher from './MessagePusher'\r\nimport UnLockRequestPusher from './UnLockRequestPusher'\r\nimport UnLockAcceptPusher from './UnLockAcceptPusher'\r\nimport LockRequestPusher from './LockRequestPusher'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useSnackbar } from 'notistack'\r\nimport { setStreamUrlSuccess } from '../../redux/room/actions'\r\nconst PusherProvider = () => {\r\n  const dispatch = useDispatch()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const onStreamUrlChange = (data) => {\r\n    console.log(data.message)\r\n    dispatch(setStreamUrlSuccess(data.message))\r\n    enqueueSnackbar(`New stream url set`, {\r\n      variant: 'info',\r\n      anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'right',\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Pusher\r\n        channel=\"airlock-channel\"\r\n        event=\"stream-url-change\"\r\n        onUpdate={onStreamUrlChange}\r\n      />\r\n\r\n      <UnLockRequestPusher />\r\n      <UnLockAcceptPusher />\r\n      <LockRequestPusher />\r\n      <MicPusher />\r\n      <MessagePusher />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PusherProvider\r\n","import React from 'react'\r\nimport { CloseIcon } from '../../Icons/Icons'\r\nimport { makeStyles, withStyles, Button } from '@material-ui/core'\r\nconst useStyles = makeStyles((theme) => ({\r\n  infoBar: {\r\n    color: '#464646',\r\n    background: '#F4F4F4',\r\n    borderRadius: '4px 4px 0 0',\r\n    height: '10%',\r\n    alignSelf: 'flex-start',\r\n    width: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    boxShadow: '0px 2px 5px rgba(0,0,0,.2)',\r\n  },\r\n\r\n  leftInnerContainer: {\r\n    color: '#464646',\r\n    flex: '0.8',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginLeft: '5%',\r\n    justifyContent: 'center',\r\n    fontWeight: 800,\r\n  },\r\n\r\n  rightInnerContainer: {\r\n    display: 'flex',\r\n    flex: '0.2',\r\n    justifyContent: 'flex-end',\r\n    // marginRight: '5%',\r\n  },\r\n}))\r\n\r\nconst CloseButton = withStyles((theme) => ({\r\n  root: {\r\n    minWidth: 'auto',\r\n  },\r\n}))(Button)\r\nconst InfoBar = ({ room, handleClose }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.infoBar}>\r\n      <div className={classes.leftInnerContainer}> Chat with {room}</div>\r\n      <div className={classes.rightInnerContainer}>\r\n        <CloseButton onClick={handleClose}>\r\n          <CloseIcon />\r\n        </CloseButton>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoBar\r\n","import React from 'react'\r\n\r\nimport './Input.css'\r\nimport { PaperPlanIcon } from '../../Icons/Icons'\r\n\r\nimport { makeStyles } from '@material-ui/core'\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: '0px 5px',\r\n  },\r\n  sendButton: {\r\n    backgroundColor: 'blue',\r\n    marginTop: '2px',\r\n    float: 'right',\r\n    textDecoration: 'none',\r\n    background: '#2979FF',\r\n    padding: '10px',\r\n    color: '#fff !important',\r\n    border: 'none',\r\n    width: 'fit-content',\r\n    alignSelf: 'flex-end',\r\n    borderRadius: '5px',\r\n    '&:focus': {\r\n      outline: 'none',\r\n    },\r\n  },\r\n}))\r\nconst Input = ({ sendMessage, setMessage, message }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <form className={classes.form}>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type a message...\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n        onKeyPress={(event) =>\r\n          event.key === 'Enter' ? sendMessage(event) : null\r\n        }\r\n      />\r\n      <button onClick={sendMessage} className={classes.sendButton}>\r\n        Send <PaperPlanIcon />\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\nexport default Input\r\n","import React from 'react'\r\n\r\nimport './Message.css'\r\n\r\nconst Message = ({ message }) => {\r\n  return message.sent ? (\r\n    <div className=\"messageContainer justifyEnd\">\r\n      <div className=\"messageBox backgroundBlue\">\r\n        <p className=\"messageText colorWhite\">{message.text}</p>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"messageContainer justifyStart\">\r\n      <div className=\"messageBox backgroundLight\">\r\n        <p className=\"messageText colorDark\">{message.text}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport Message from './Message/Message'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport ScrollToBottom from 'react-scroll-to-bottom'\r\nimport { useRef } from 'react'\r\nimport { useEffect } from 'react'\r\nconst useStyles = makeStyles((theme) => ({\r\n  messages: {\r\n    height: '240px',\r\n    overflowY: 'scroll',\r\n  },\r\n}))\r\nconst Messages = ({ messages }) => {\r\n  const classes = useStyles()\r\n  const messagesEndRef = useRef(null)\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\r\n  }\r\n  useEffect(scrollToBottom, [])\r\n  useEffect(scrollToBottom, [messages])\r\n  return (\r\n    <div className={classes.messages}>\r\n      <ScrollToBottom>\r\n        {messages.map((message, i) => (\r\n          <div>\r\n            <Message key={i} message={message} />\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </ScrollToBottom>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Messages\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport InfoBar from './InfoBar/InfoBar'\r\nimport { useState } from 'react'\r\nimport Input from './Input/Input'\r\nimport Messages from './Messages/Messages'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chatContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    background: '#ffffff',\r\n    borderRadius: '5px',\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n}))\r\n\r\nconst Chat = ({ me, opponent, messages, handleSendMessage, handleClose }) => {\r\n  const classes = useStyles()\r\n  const [message, setMessage] = useState('')\r\n  const sendMessage = (e) => {\r\n    e.preventDefault()\r\n    handleSendMessage(message)\r\n    setMessage('')\r\n  }\r\n  return (\r\n    <div className={classes.chatContainer}>\r\n      <InfoBar room={opponent} handleClose={handleClose} />\r\n      <Messages messages={messages} name={opponent} />\r\n      <Input\r\n        message={message}\r\n        setMessage={setMessage}\r\n        sendMessage={sendMessage}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { sendMessage, handleClose, closeChat } from '../../redux/room/actions'\r\nimport Chat from '../../components/Chat/Chat'\r\n\r\nconst ChatContainer = () => {\r\n  const roomData = useSelector((state) => state.room)\r\n  const myIdentity = useSelector((state) => state.user.identity)\r\n  const dispatch = useDispatch()\r\n  const chatOpponent = roomData.pins.find(\r\n    (p) => p.identity === roomData.chatMember,\r\n  )\r\n  const messages = chatOpponent && chatOpponent.chats ? chatOpponent.chats : []\r\n  const handleSendMessage = (msg) => {\r\n    dispatch(sendMessage({ identity: roomData.chatMember, message: msg }))\r\n  }\r\n\r\n  const handleClose = () => {\r\n    dispatch(closeChat())\r\n  }\r\n  return (\r\n    <>\r\n      {chatOpponent && roomData.chatOpen ? (\r\n        <Chat\r\n          me={myIdentity}\r\n          opponent={chatOpponent.identity}\r\n          messages={messages}\r\n          handleSendMessage={handleSendMessage}\r\n          handleClose={handleClose}\r\n        />\r\n      ) : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ChatContainer\r\n","import React from 'react'\r\nimport { styled } from '@material-ui/core/styles'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { useSelector } from 'react-redux'\r\nimport Participant from '../Participant/Participant'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  listItem: {\r\n    width: '33%',\r\n    height: 'fit-content',\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '50%',\r\n    },\r\n  },\r\n}))\r\n\r\nconst ScrollContainer = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  flexWrap: 'wrap',\r\n  overflowY: 'scroll',\r\n  height: 'calc(100% - 70px)',\r\n}))\r\n\r\nconst ParticipantListView = () => {\r\n  const roomData = useSelector((state) => state.room)\r\n  const room = roomData.room\r\n  const participants = roomData.participants\r\n  const localParticipant = roomData.room.localParticipant\r\n  const classes = useStyles()\r\n  return (\r\n    <ScrollContainer>\r\n      {participants.map((participant) => (\r\n        <div className={classes.listItem}>\r\n          <Participant\r\n            key={participant.sid}\r\n            participant={participant}\r\n            disableAudio={true}\r\n          />\r\n        </div>\r\n      ))}\r\n      {/* {[...Array(11)].map((id) => (\r\n        <div className={classes.listItem}>\r\n          <Participant participant={localParticipant} disableAudio={true} />\r\n        </div>\r\n      ))} */}\r\n    </ScrollContainer>\r\n  )\r\n}\r\n\r\nexport default ParticipantListView\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport useRoomState from '../../hooks/useRoomState'\r\nimport clsx from 'clsx'\r\nimport { styled } from '@material-ui/core/styles'\r\nimport { makeStyles, Typography } from '@material-ui/core'\r\nimport PinParticipant from '../../components/Party/Participant/PinParticipant'\r\nimport ConfigureDialog from '../../components/Dialogs/ConfigureDialog'\r\nimport LocalParticipant from '../../components/Party/Participant/LocalParticipant'\r\nimport MainParticipant from '../../components/Party/Participant/MainParticipant'\r\nimport LiveStream from '../../components/Party/LiveStream'\r\nimport { useDispatch } from 'react-redux'\r\nimport * as roomActions from '../../redux/room/actions'\r\nimport PartyTabControl from '../../components/Party/PartyTabControl'\r\nimport DeviceControl from '../../components/Party/DeviceControl'\r\nimport ButtonControl from '../../components/Party/ButtonControl'\r\nimport PusherProvider from '../../components/PusherProvider/PusherProvider'\r\nimport ChatContainer from '../../containers/ChatContainer/ChatContainer'\r\nimport ParticipantsListView from '../../components/Party/ParticipantsListView/ParticipantsListView'\r\nconst Container = styled('div')(({ theme }) => ({\r\n  border: '1px solid #757575',\r\n  position: 'relative',\r\n  display: 'grid',\r\n  width: '100%',\r\n  height: '100%',\r\n  gridTemplateColumns: `repeat(6, minmax(0, 1fr))`,\r\n  gridTemplateRows: `repeat(5, minmax(0, 1fr))`,\r\n  gap: '5px 5px',\r\n  gridTemplateAreas: `\"lg mp mp mp mp ct\"\r\n                      \"mg mp mp mp mp bt\"\r\n                      \"mg mp mp mp mp bt\"\r\n                      \"me mp mp mp mp t7\"\r\n                      \"t1 t2 t3 t4 t5 t6\"`,\r\n}))\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainWrapper: {\r\n    backgroundColor: '#3f3f3f',\r\n    color: theme.palette.primary.contrastText,\r\n    height: '100vh',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  mainViewer: {\r\n    gridArea: 'mp',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: '#343334',\r\n  },\r\n  logo: {\r\n    gridArea: 'lg',\r\n    textAlign: 'center',\r\n    paddingTop: '10px',\r\n  },\r\n  chat: {\r\n    gridArea: 'mg',\r\n    paddingLeft: '5px',\r\n  },\r\n  me: {\r\n    gridArea: 'me',\r\n  },\r\n  tabControl: {\r\n    gridArea: 'ct',\r\n  },\r\n  deviceContro: {\r\n    gridArea: 'bt',\r\n  },\r\n  t1: {\r\n    gridArea: 't1',\r\n  },\r\n  t2: {\r\n    gridArea: 't2',\r\n  },\r\n  t3: {\r\n    gridArea: 't3',\r\n  },\r\n  t4: {\r\n    gridArea: 't4',\r\n  },\r\n  t5: {\r\n    gridArea: 't5',\r\n  },\r\n  t6: {\r\n    gridArea: 't6',\r\n  },\r\n  t7: {\r\n    gridArea: 't7',\r\n  },\r\n  t8: {\r\n    gridArea: 't8',\r\n  },\r\n  showVideo: {\r\n    display: 'block',\r\n  },\r\n  hideVideo: {\r\n    display: 'none',\r\n  },\r\n}))\r\n\r\nconst VideoParty = () => {\r\n  const classes = useStyles()\r\n  const roomState = useRoomState()\r\n  const [tabStatus, setTabStatus] = useState('dj')\r\n  const userData = useSelector((state) => state.user)\r\n  const [showConfigDialog, setShowConfigDialog] = useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  const onConfigureLiveStream = () => {\r\n    setShowConfigDialog(true)\r\n  }\r\n\r\n  const setStreamUrl = (url) => {\r\n    console.log(url)\r\n    dispatch(roomActions.setStreamUrl(url))\r\n  }\r\n\r\n  const onRandomButton = () => {\r\n    dispatch(roomActions.randomizePins())\r\n    console.log('asdf')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {showConfigDialog ? (\r\n        <ConfigureDialog\r\n          showDialog={showConfigDialog}\r\n          closeDialog={() => setShowConfigDialog(false)}\r\n          setStreamUrl={setStreamUrl}\r\n        />\r\n      ) : null}\r\n      <main className={classes.mainWrapper}>\r\n        {roomState === 'connected' ? (\r\n          <>\r\n            <PusherProvider />\r\n            <Container>\r\n              <div className={classes.mainViewer}>\r\n                <LiveStream tabStatus={tabStatus} />\r\n                {tabStatus === 'dj' ? null : tabStatus === 'fav' ? (\r\n                  <MainParticipant />\r\n                ) : (\r\n                  <ParticipantsListView />\r\n                )}\r\n                <ButtonControl\r\n                  role={userData.role}\r\n                  onConfigureLiveStream={onConfigureLiveStream}\r\n                  onRandomButton={onRandomButton}\r\n                />\r\n              </div>\r\n              <div className={classes.logo}>\r\n                <img src=\"./assets/logo.png\" alt=\"logo\" />\r\n                <Typography variant=\"body2\">squareparty</Typography>\r\n              </div>\r\n              <div className={classes.chat}>\r\n                <ChatContainer />\r\n              </div>\r\n              <div className={classes.tabControl}>\r\n                <PartyTabControl\r\n                  status={tabStatus}\r\n                  setTabStatus={setTabStatus}\r\n                />\r\n              </div>\r\n              <div className={classes.deviceControl}>\r\n                <DeviceControl tabStatus={tabStatus} />\r\n              </div>\r\n              <div className={classes.me}>\r\n                <LocalParticipant />\r\n              </div>\r\n              <div className={classes.t1}>\r\n                <PinParticipant pinId={0} />\r\n              </div>\r\n              <div className={classes.t2}>\r\n                <PinParticipant pinId={1} />\r\n              </div>\r\n              <div className={classes.t3}>\r\n                <PinParticipant pinId={2} />\r\n              </div>\r\n              <div className={classes.t4}>\r\n                <PinParticipant pinId={3} />\r\n              </div>\r\n              <div className={classes.t5}>\r\n                <PinParticipant pinId={4} />\r\n              </div>\r\n              <div className={classes.t6}>\r\n                <PinParticipant pinId={5} />\r\n              </div>\r\n              <div className={classes.t7}>\r\n                <PinParticipant pinId={6} />\r\n              </div>\r\n            </Container>\r\n          </>\r\n        ) : (\r\n          <div> Not Connected !</div>\r\n        )}\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default VideoParty\r\n","import { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function useRoomState() {\r\n  const room = useSelector((state) => state.room.room)\r\n  const [state, setState] = useState('disconnected')\r\n\r\n  useEffect(() => {\r\n    const setRoomState = () => {\r\n      setState(room.state || 'disconnected')\r\n      if (room.state === 'connected') console.log(room)\r\n    }\r\n    setRoomState()\r\n    room\r\n      .on('disconnected', setRoomState)\r\n      .on('reconnected', setRoomState)\r\n      .on('reconnecting', setRoomState)\r\n    return () => {\r\n      room\r\n        .off('disconnected', setRoomState)\r\n        .off('reconnected', setRoomState)\r\n        .off('reconnecting', setRoomState)\r\n    }\r\n  }, [room])\r\n\r\n  return state\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport Video from 'twilio-video'\r\nimport useUserData from '../../hooks/useUserData/useUserData'\r\nimport {\r\n  setTwilioRoom,\r\n  participantJoined,\r\n  participantExit,\r\n} from '../../redux/room/actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport VideoParty from '../../pages/VideoParty/VideoParty'\r\nimport useLocalTracks from '../../hooks/useLocalTracks/useLocalTracks'\r\n\r\nconst connectionOptions = {\r\n  bandwidthProfile: {\r\n    video: {\r\n      mode: 'collaboration',\r\n      dominantSpeakerPriority: 'standard',\r\n      renderDimensions: {\r\n        high: { height: 1080, width: 1920 },\r\n        standard: { height: 720, width: 1280 },\r\n        low: { height: 90, width: 160 },\r\n      },\r\n    },\r\n  },\r\n  dominantSpeaker: true,\r\n  maxAudioBitrate: 12000,\r\n  networkQuality: { local: 1, remote: 1 },\r\n  preferredVideoCodecs: [{ codec: 'VP8', simulcast: true }],\r\n}\r\n\r\nconst RoomContainer = () => {\r\n  const userData = useUserData()\r\n  const token = userData.token\r\n  const dispatch = useDispatch()\r\n  const { localTracks, getLocalVideoTrack } = useLocalTracks()\r\n  const disconnectHandlerRef = useRef(() => {})\r\n  const localTracksRef = useRef([])\r\n  useEffect(() => {\r\n    // It can take a moment for Video.connect to connect to a room. During this time, the user may have enabled or disabled their\r\n    // local audio or video tracks. If this happens, we store the localTracks in this ref, so that they are correctly published\r\n    // once the user is connected to the room.\r\n    localTracksRef.current = localTracks\r\n  }, [localTracks])\r\n\r\n  useEffect(() => {\r\n    const participantConnected = (participant) => {\r\n      console.log(participant.identity, '=> connected')\r\n      dispatch(participantJoined(participant))\r\n    }\r\n\r\n    const participantDisconnected = (participant) => {\r\n      console.log(participant.identity, '=> disconnected')\r\n      dispatch(participantExit(participant))\r\n    }\r\n\r\n    Video.connect(token, { ...connectionOptions, tracks: [] }).then((room) => {\r\n      dispatch(setTwilioRoom(room))\r\n      room.once('disconnected', () => {\r\n        setTimeout(() => dispatch(setTwilioRoom(null)))\r\n        window.removeEventListener('beforeunload', disconnectHandlerRef.current)\r\n      })\r\n\r\n      // @ts-ignore\r\n      window.twilioRoom = room\r\n\r\n      localTracksRef.current.forEach((track) =>\r\n        // Tracks can be supplied as arguments to the Video.connect() function and they will automatically be published.\r\n        // However, tracks must be published manually in order to set the priority on them.\r\n        // All video tracks are published with 'low' priority. This works because the video\r\n        // track that is displayed in the 'MainParticipant' component will have it's priority\r\n        // set to 'high' via track.setPriority()\r\n        room.localParticipant.publishTrack(track, {\r\n          priority: track.kind === 'video' ? 'low' : 'standard',\r\n        }),\r\n      )\r\n\r\n      disconnectHandlerRef.current = () => {\r\n        console.log('beforeunload hook called!')\r\n        room.disconnect()\r\n      }\r\n\r\n      window.addEventListener('beforeunload', disconnectHandlerRef.current)\r\n\r\n      room.on('participantConnected', participantConnected)\r\n      room.on('participantDisconnected', participantDisconnected)\r\n      room.participants.forEach(participantConnected)\r\n    })\r\n\r\n    return () => {\r\n      dispatch(setTwilioRoom(null))\r\n    }\r\n  }, [])\r\n\r\n  const room = useSelector((state) => state.room.room)\r\n  return (\r\n    <div className=\"room\">\r\n      {room !== null && room.state === 'connected' ? (\r\n        <VideoParty />\r\n      ) : (\r\n        <div> Connecting, Please wait for a while ...</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RoomContainer\r\n","import React from 'react'\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Button,\r\n  Container,\r\n  Paper,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { YoutubeIcon, FacebookIcon } from '../../components/Icons/Icons'\r\nimport { useHistory } from 'react-router-dom'\r\nconst useStyles = makeStyles((theme) => ({\r\n  header: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  connectButton: {\r\n    borderRadius: '45px',\r\n  },\r\n  heroSection: {\r\n    display: 'flex',\r\n    // position: 'relative',\r\n  },\r\n  heroTitle: {\r\n    alignSelf: 'center',\r\n    marginRight: '-130px',\r\n    padding: '50px',\r\n    borderRadius: '20px 0px 0px 20px',\r\n    boxShadow: '0px 0px 5px rgba(0, 0, 0, .1)',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  heroTitleBlack: {\r\n    color: 'black',\r\n    fontFamily: 'roboto',\r\n    fontSize: '40px',\r\n  },\r\n  heroTitleBlue: {\r\n    color: '#2A5FF6',\r\n    fontFamily: 'roboto',\r\n    fontSize: '55px',\r\n  },\r\n  heroImage: {},\r\n  featureSection: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      flex: 1,\r\n    },\r\n    borderTop: '1px solid rgba(0, 0, 0, .2)',\r\n    borderBottom: '1px solid rgba(0, 0, 0, .2)',\r\n  },\r\n  feature: {\r\n    textAlign: 'center',\r\n    padding: '30px 50px',\r\n    '& > .logo': {\r\n      minHeight: '80px',\r\n    },\r\n    '& > h2': {\r\n      margin: '3px 0px',\r\n      color: theme.palette.primary.main,\r\n    },\r\n    '& > p': {\r\n      margin: '5px 0px',\r\n      color: '#707070',\r\n    },\r\n  },\r\n  buttonSection: {\r\n    padding: '70px 0px',\r\n    textAlign: 'center',\r\n    '& > button': {\r\n      padding: '10px 30px',\r\n    },\r\n  },\r\n}))\r\nconst HomePage = () => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const onConnectLiveStream = () => {\r\n    history.push('/connect_stream')\r\n  }\r\n  return (\r\n    <>\r\n      <div className={classes.header}>\r\n        <AppBar position=\"static\" color=\"transparent\">\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\r\n              <img src=\"assets/logo-blue.png\" alt=\"logo-blue\" />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Square\r\n            </Typography>\r\n            <Button\r\n              color=\"primary\"\r\n              className={classes.connectButton}\r\n              variant=\"outlined\"\r\n              onClick={onConnectLiveStream}\r\n            >\r\n              Connect Your Live\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <main>\r\n        <Container class={classes.container}>\r\n          <div className={classes.heroSection}>\r\n            <div className={classes.heroTitle}>\r\n              <h2 className={classes.heroTitleBlack}>Connect around</h2>\r\n              <h1 className={classes.heroTitleBlue}>Live Stream</h1>\r\n              <p>\r\n                A new way to experience livestream for both artists and\r\n                participants.\r\n              </p>\r\n            </div>\r\n            <div className={classes.heroImage}>\r\n              <img src=\"assets/Webapp.png\" alt=\"WebApp\" />\r\n            </div>\r\n          </div>\r\n          <div className={classes.featureSection}>\r\n            <div className={classes.feature}>\r\n              <div className=\"logo\">\r\n                <img src=\"assets/link-solid.png\" alt=\"link-solid\" />\r\n              </div>\r\n              <h2>Embed Your Live</h2>\r\n              <p>\r\n                Embed your live from <YoutubeIcon />\r\n                Youtube or <FacebookIcon /> FaceBook easily.\r\n              </p>\r\n            </div>\r\n            <div className={classes.feature}>\r\n              <div className=\"logo\">\r\n                <img src=\"assets/share-solid.png\" alt=\"link-solid\" />\r\n              </div>\r\n              <h2>Share Your Link </h2>\r\n              <p>Share Your SquareParty Link to people.</p>\r\n            </div>\r\n            <div className={classes.feature}>\r\n              <div className=\"logo\">\r\n                <img\r\n                  src=\"assets/dancing-solid.png\"\r\n                  alt=\"link-solid\"\r\n                  width=\"auto\"\r\n                  height=\"80px\"\r\n                />\r\n              </div>\r\n              <h2>Connect With Your Fan</h2>\r\n              <p>\r\n                See participant dance around your Stream and connect with them.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className={classes.buttonSection}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              disableElevation\r\n              onClick={onConnectLiveStream}\r\n            >\r\n              Connect Your LiveStream\r\n            </Button>\r\n          </div>\r\n        </Container>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import React, { useState } from 'react'\r\nimport {\r\n  makeStyles,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Container,\r\n  Input,\r\n  Button,\r\n} from '@material-ui/core'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { djConnect } from '../../redux/user/actions'\r\nconst useStyles = makeStyles((theme) => ({\r\n  header: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  mainContainer: {\r\n    height: '100%',\r\n  },\r\n\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // height: '100%',\r\n  },\r\n\r\n  formContainer: {\r\n    textAlign: 'center',\r\n    marginTop: '100px',\r\n    '& h2': {\r\n      color: theme.palette.primary.main,\r\n      fontFamily: 'roboto',\r\n      fontSize: '50px',\r\n      margin: '10px 0px',\r\n    },\r\n    '& p': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      fontSize: '20px',\r\n      color: '#707070',\r\n    },\r\n    '& p img': {\r\n      marginTop: '5px',\r\n    },\r\n    '& p > .icon-youtube': {\r\n      color: 'red',\r\n    },\r\n    '& p > span.font-facebook': {\r\n      color: '#3b5998',\r\n      fontFamily: 'Helvetica',\r\n      marginLeft: '10px',\r\n    },\r\n  },\r\n  form: {\r\n    '& .username  input': {\r\n      borderRadius: '5px 5px 0px 0px',\r\n      padding: '20px 10px',\r\n    },\r\n    '& .link input': {\r\n      borderRadius: '0px 0px 5px 5px',\r\n      padding: '20px 10px',\r\n    },\r\n    '& .btn-submit': {\r\n      marginTop: '10px',\r\n    },\r\n    '& .btn-submit button': {\r\n      padding: '20px 10px',\r\n    },\r\n  },\r\n  submit: { padding: '10px 30px' },\r\n}))\r\nconst ConnectStreamPage = () => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const gotoHome = () => {\r\n    history.push('/home')\r\n  }\r\n\r\n  const [form, setForm] = useState({\r\n    username: '',\r\n    dj: '',\r\n  })\r\n\r\n  const handleChange = (event) => {\r\n    setForm({ ...form, [event.target.name]: event.target.value })\r\n  }\r\n  const onStartConnecting = (event) => {\r\n    event.preventDefault()\r\n    dispatch(djConnect(form.username, form.link)).then((res) => {\r\n      history.push('/party')\r\n      window.history.replaceState(\r\n        null,\r\n        '',\r\n        window.encodeURI(\r\n          `/room/${form.username} || ${window.location.search || ''}`,\r\n        ),\r\n      )\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <div className={classes.header}>\r\n        <AppBar position=\"static\" color=\"transparent\">\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={gotoHome}\r\n            >\r\n              <img src=\"assets/logo-blue.png\" alt=\"logo-blue\" />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Square\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <main>\r\n        <Container className={classes.container}>\r\n          <div className={classes.formContainer}>\r\n            <div className={classes.description}>\r\n              <img src=\"assets/link-solid.png\" alt=\"link-solid\" />\r\n              <h2>Embed Your Live</h2>\r\n              <p>\r\n                Embed your live from\r\n                <span className=\"icon-youtube\">\r\n                  <a\r\n                    href=\"https://youtube.com/\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <img src=\"assets/youtube.png\" alt=\"youtube\" />\r\n                  </a>\r\n                </span>\r\n                &\r\n                <span className=\"font-facebook\">\r\n                  <a\r\n                    href=\"https://facebook.com/\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <img src=\"assets/facebook.png\" alt=\"facebook\" />\r\n                  </a>\r\n                </span>\r\n                easily\r\n              </p>\r\n            </div>\r\n            <form className={classes.form} onSubmit={onStartConnecting}>\r\n              <div className=\"form-control username\">\r\n                <Input\r\n                  placeholder=\"Instagram username\"\r\n                  variant=\"filled\"\r\n                  disableUnderline\r\n                  fullWidth\r\n                  name=\"username\"\r\n                  value={form.username}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-control link\">\r\n                <Input\r\n                  placeholder=\"URL of youtube or facebook live stream\"\r\n                  variant=\"filled\"\r\n                  disableUnderline\r\n                  required\r\n                  fullWidth\r\n                  name=\"link\"\r\n                  value={form.link}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-control btn-submit\">\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  disableElevation\r\n                  className={classes.submit}\r\n                  required\r\n                  fullWidth\r\n                  type=\"submit\"\r\n                  disabled={!form.username || !form.link}\r\n                >\r\n                  START CONNECTING YOUR STREAM\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Container>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ConnectStreamPage\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  const userData = useSelector((state) => state.user)\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        userData.token ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport {\r\n  Route,\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Redirect,\r\n} from 'react-router-dom'\r\nimport PublicRoute from './components/RouteComponents/PublicRoute.jsx'\r\nimport RoomContainer from './containers/RoomContainer/RoomContainer'\r\nimport { SnackbarProvider } from 'notistack'\r\nimport HomePage from './pages/HomePage/HomePage'\r\nimport ConnectStreamPage from './pages/ConnectStreamPage/ConnectStreamPage'\r\nimport PrivateRoute from './components/RouteComponents/PrivateRoute'\r\n\r\nfunction App() {\r\n  return (\r\n    <SnackbarProvider maxSnack={3}>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/home\">\r\n            <HomePage />\r\n          </Route>\r\n          <Route path=\"/connect_stream\">\r\n            <ConnectStreamPage />\r\n          </Route>\r\n          <PublicRoute path=\"/party\">\r\n            <RoomContainer />\r\n          </PublicRoute>\r\n          <PrivateRoute path=\"/room/:RoomName\">\r\n            <RoomContainer />\r\n          </PrivateRoute>\r\n          <Route path=\"*\">\r\n            <Redirect to=\"/home\" />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </SnackbarProvider>\r\n  )\r\n}\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { handleActions } from 'redux-actions'\r\nimport * as actions from './actions'\r\n// import { setAccessToken, removeAccessToken } from '../../lib/cookie'\r\n\r\nlet initState = {\r\n  identity: '',\r\n  token: '',\r\n  link: '',\r\n}\r\n\r\nconst userReducer = handleActions(\r\n  {\r\n    [actions.LOGIN_FAILED]: () => {\r\n      return initState\r\n    },\r\n\r\n    [actions.LOGIN_SUCCESS]: (state, action) => {\r\n      if (action.payload === null) return initState\r\n      return {\r\n        ...action.payload,\r\n      }\r\n    },\r\n    [actions.DJ_CONNECT_SUCCESS]: (state, action) => {\r\n      return {\r\n        identity: action.payload.username,\r\n        token: action.payload.token,\r\n        link: action.payload.link,\r\n      }\r\n    },\r\n  },\r\n  initState,\r\n)\r\nexport default userReducer\r\n","import { handleActions } from 'redux-actions'\r\nimport * as actions from './actions'\r\n\r\nlet initState = {\r\n  room: null, // twilio room\r\n  stream: {\r\n    // youtube stream url\r\n    url: '',\r\n  },\r\n  dj: '', // dj id\r\n  pins: [],\r\n  participants: [],\r\n  chatOpen: false,\r\n  chatMember: '',\r\n  mainSelection: '', // selection id\r\n}\r\n\r\nconst roomReducer = handleActions(\r\n  {\r\n    // Init Room\r\n    [actions.INIT_ROOM]: (state, action) => {\r\n      return initState\r\n    },\r\n\r\n    // Set Stream URL\r\n    [actions.SET_STREAM_URL_SUCCESS]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        stream: {\r\n          url: action.payload,\r\n        },\r\n      }\r\n    },\r\n\r\n    // Set Stream URL as null\r\n    [actions.SET_STREAM_URL_FAILED]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        stream: {\r\n          url: '',\r\n        },\r\n      }\r\n    },\r\n\r\n    // Set Participants Joined\r\n    [actions.PARTICIPANT_JOINED]: (state, action) => {\r\n      const participants = [...state.participants, action.payload]\r\n      const newP = action.payload\r\n      const pin = state.pins.find((pin) => pin.identity === newP.identity)\r\n      if (!pin && state.pins.length < 7) {\r\n        return {\r\n          ...state,\r\n          participants: participants,\r\n          pins: [\r\n            ...state.pins,\r\n            {\r\n              identity: newP.identity,\r\n              locked: false,\r\n              sent: false,\r\n              mic: false,\r\n              chat: false,\r\n              chats: [],\r\n            },\r\n          ],\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        participants: participants,\r\n        // pins: [...state.pins, { identity: newP.identity, locked: false }],\r\n      }\r\n    },\r\n\r\n    // Remove Participants Exit\r\n    [actions.PARTICIPANT_EXIT]: (state, action) => {\r\n      const ext = action.payload\r\n      const participants = [...state.participants]\r\n      const filteredParticipants = participants.filter(\r\n        (p) => p.identity !== ext.identity,\r\n      )\r\n      const filteredPins = state.pins.filter((p) => p.identity !== ext.identity)\r\n      return {\r\n        ...state,\r\n        participants: filteredParticipants ? filteredParticipants : [],\r\n        pins: filteredPins ? filteredPins : [],\r\n        chatOpen: state.chatMember === ext.identity ? false : true,\r\n        chatMember: state.chatMember === ext.identity ? '' : state.chatMember,\r\n      }\r\n    },\r\n\r\n    [actions.INIT_PARTICIPANTS]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        participants: [...action.payload.participants],\r\n      }\r\n    },\r\n\r\n    // Set Room Data\r\n    [actions.SET_TWILIO_ROOM]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        room: action.payload,\r\n      }\r\n    },\r\n\r\n    // Set Pin Sent\r\n    [actions.SET_PIN_SENT]: (state, action) => {\r\n      const pId = action.payload.identity\r\n      const pins = [...state.pins]\r\n      const foundIndex = pins.findIndex((pin) => pin.identity === pId)\r\n      const originPin = pins[foundIndex]\r\n      pins[foundIndex] = {\r\n        ...originPin,\r\n        sent: true,\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        pins,\r\n      }\r\n    },\r\n\r\n    // Set Pin UnLock\r\n    [actions.SET_PIN_UNLOCK]: (state, action) => {\r\n      const pId = action.payload.identity\r\n      const pins = [...state.pins]\r\n      const foundIndex = pins.findIndex((pin) => pin.identity === pId)\r\n      const originPin = pins[foundIndex]\r\n      pins[foundIndex] = {\r\n        ...originPin,\r\n        locked: true,\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        pins,\r\n      }\r\n    },\r\n\r\n    // Set Pin Lock\r\n    [actions.SET_PIN_LOCK]: (state, action) => {\r\n      const pId = action.payload.identity\r\n      const pins = [...state.pins]\r\n      const foundIndex = pins.findIndex((pin) => pin.identity === pId)\r\n      const originPin = pins[foundIndex]\r\n      pins[foundIndex] = {\r\n        identity: pId,\r\n        locked: false,\r\n        sent: false,\r\n        mic: false,\r\n        chat: false,\r\n        chats: [],\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        chatOpen: false,\r\n        chatMember: '',\r\n        pins,\r\n      }\r\n    },\r\n\r\n    // Set Pin Mic On\r\n    [actions.SET_PIN_MIC]: (state, action) => {\r\n      const pId = action.payload.identity\r\n      const pins = [...state.pins]\r\n      const foundIndex = pins.findIndex((pin) => pin.identity === pId)\r\n      const originPin = pins[foundIndex]\r\n      pins[foundIndex] = {\r\n        ...originPin,\r\n        mic: action.payload.isOn,\r\n      }\r\n      return {\r\n        ...state,\r\n        pins,\r\n      }\r\n    },\r\n\r\n    [actions.INIT_CHAT_ROOM]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        chatMember: '',\r\n        chatOpen: false,\r\n      }\r\n    },\r\n\r\n    [actions.OPEN_CHAT]: (state, action) => {\r\n      const pins = [...state.pins]\r\n      const pinIndex = pins.findIndex(\r\n        (p) => p.identity === action.payload.identity,\r\n      )\r\n      const originPin = pins[pinIndex]\r\n      const updatedChats = originPin.chats.map((chat) => ({\r\n        ...chat,\r\n        read: true,\r\n      }))\r\n      pins[pinIndex] = {\r\n        ...originPin,\r\n        chats: updatedChats,\r\n      }\r\n      return {\r\n        ...state,\r\n        chatOpen: true,\r\n        chatMember: action.payload.identity,\r\n        pins,\r\n      }\r\n    },\r\n\r\n    [actions.CLOSE_CHAT]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        chatOpen: false,\r\n        chatMember: '',\r\n      }\r\n    },\r\n\r\n    [actions.ADD_MESSAGE]: (state, action) => {\r\n      const pId = action.payload.identity\r\n      const pins = [...state.pins]\r\n      const foundIndex = pins.findIndex((pin) => pin.identity === pId)\r\n      const originPin = pins[foundIndex]\r\n      pins[foundIndex] = {\r\n        ...originPin,\r\n        chats: [\r\n          ...originPin.chats,\r\n          {\r\n            text: action.payload.message,\r\n            sent: action.payload.sent,\r\n            read: action.payload.sent\r\n              ? true\r\n              : state.chatMember === originPin.identity\r\n              ? true\r\n              : false,\r\n          },\r\n        ],\r\n      }\r\n      return {\r\n        ...state,\r\n        pins,\r\n      }\r\n    },\r\n\r\n    // set mainSelection which would be used in MainParticipant\r\n    [actions.SELECT_MAIN]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        mainSelection: action.payload.identity,\r\n      }\r\n    },\r\n\r\n    // radomize pins triggered from random button click\r\n    [actions.RANDOMIZE_PINS]: (state, action) => {\r\n      const pins = [...state.pins]\r\n      for (let pinIndex = 0; pinIndex < 7; pinIndex++) {\r\n        if (pins[pinIndex] && pins[pinIndex].locked === true) {\r\n          continue\r\n        }\r\n        const candidates = state.participants.filter((p) => {\r\n          const pinned = pins.find((pin) => pin.identity === p.identity)\r\n          if (pinned) return false\r\n          else return true\r\n        })\r\n\r\n        const randomPin =\r\n          candidates[Math.floor(Math.random() * candidates.length)]\r\n\r\n        if (!randomPin) continue\r\n        pins[pinIndex] = {\r\n          identity: randomPin.identity,\r\n          locked: false,\r\n          sent: false,\r\n          mic: false,\r\n          chat: false,\r\n          chats: [],\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        pins,\r\n      }\r\n    },\r\n  },\r\n  initState,\r\n)\r\nexport default roomReducer\r\n","import { combineReducers } from 'redux'\r\nimport userReducer from './user/reducer'\r\nimport roomReducer from './room/reducer'\r\nexport default combineReducers({\r\n  user: userReducer,\r\n  room: roomReducer,\r\n})\r\n","import React from 'react'\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\r\n\r\nconst theme = createMuiTheme({\r\n  type: 'dark',\r\n  palette: {\r\n    primary: {\r\n      main: '#235BF6',\r\n    },\r\n  },\r\n  shadows: ['none'],\r\n  sidebarWidth: 260,\r\n  sidebarMobileHeight: 90,\r\n})\r\n\r\nconst AirlockTheme = ({ children }) => {\r\n  return <ThemeProvider theme={theme}> {children} </ThemeProvider>\r\n}\r\n\r\nexport default AirlockTheme\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './style.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport Reducer from './redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport AirlockTheme from './config/theme'\nimport Pusher from 'pusher-js'\nimport { setPusherClient } from 'react-pusher'\nconst store = createStore(Reducer, composeWithDevTools(applyMiddleware(thunk)))\n// Puhser\nconst pusherClient = new Pusher(process.env.REACT_APP_PUSHER_APP_KEY, {\n  cluster: process.env.REACT_APP_PUSHER_APP_CLUSTER,\n})\nsetPusherClient(pusherClient)\nReactDOM.render(\n  <Provider store={store}>\n    <AirlockTheme>\n      <App />\n    </AirlockTheme>\n  </Provider>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}